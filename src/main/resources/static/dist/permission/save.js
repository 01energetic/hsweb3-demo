webpackJsonp([1,14,15],{0:function(module,exports,__webpack_require__){eval('window.BASE_PATH = __webpack_require__.p;\nwindow.API_BASE_PATH = getCookie("api_root", "/");\n\nwindow.mini_debugger = false;\n/**\n * 引入一个插件(js或者css)\n * @param path 插件路径\n * @param callback 加载完成回调,css不会执行回调\n */\nfunction importPlugin(path, callback) {\n    if (path.indexOf("http") != 0 || path.indexOf("//") != 0) {\n        path = window.BASE_PATH + path;\n    }\n    var head = document.getElementsByTagName(\'head\')[0];\n    if (path.indexOf("js") == path.length - 2) {\n        var script = document.createElement(\'script\');\n        script.type = \'text/javascript\';\n        script.charset = \'utf-8\';\n        script.timeout = 120000;\n        if (typeof callback != "undefined")\n            script.async = true;\n        script.src = path;\n        head.appendChild(script);\n        function onload() {\n            script.onerror = script.onload = undefined;\n            if (callback)callback();\n        }\n\n        script.onload = onload;\n        script.onerror = onload;\n\n    } else if (path.indexOf("css") == path.length - 3) {\n        var style = document.createElement(\'link\');\n        style.rel = "stylesheet";\n        style.href = path;\n        style.type = "text/css";\n        head.appendChild(style);\n    }\n}\n\n/**\n * 获取cooke\n * @param sName cookie名称\n * @param defaultVal 默认值\n * @returns {*} cookie值\n */\nfunction getCookie(sName, defaultVal) {\n    var aCookie = document.cookie.split("; ");\n    var lastMatch = null;\n    for (var i = 0; i < aCookie.length; i++) {\n        var aCrumb = aCookie[i].split("=");\n        if (sName == aCrumb[0]) {\n            lastMatch = aCrumb;\n        }\n    }\n    if (lastMatch) {\n        var v = lastMatch[1];\n        if (v === undefined) return v;\n        return unescape(v);\n    }\n    return defaultVal;\n}\nfunction loadMiniui(callback) {\n\n    var theme = getCookie("theme", window.miniui_theme ? window.miniui_theme : "pure");\n    var mode = getCookie("mode", "large");\n\n    function loadMini() {\n        importPlugin("plugins/miniui/themes/default/miniui.css");\n        importPlugin("plugins/miniui/themes/icons.css");\n        importPlugin(\'plugins/miniui/themes/\' + theme + \'/skin.css\');\n        importPlugin("plugins/miniui/themes/default/" + mode + "-mode.css");\n        importPlugin("plugins/miniui/miniui.js", callback);\n    }\n\n    if (!window.jQuery) {\n        importPlugin("plugins/jquery/jquery.min.js", loadMini);\n    } else {\n        loadMini();\n    }\n}\nfunction showTips(msg, state) {\n    mini.showTips({\n        content: msg,\n        state: state || \'success\',\n        x: \'center\',\n        y: \'top\',\n        timeout: 3000\n    });\n}\n/**\n * 打开窗口\n * @param url 窗口的URL\n * @param title 标题\n * @param width 宽度\n * @param height 高度\n * @param ondestroy 销毁时回调 , 打开的页面通过 boot.closeWindow(response) ;传递返回值. 通过回调参数获取.\n * @param onload 加载时毁掉 , 可通过 this.getIFrameEl(); 获取frame对象\n */\nfunction openWindow(url, title, width, height, ondestroy, onload) {\n    if (url.indexOf("http") != 0) {\n        if (url.indexOf("/") == 0)url = url.substr(1);\n        url = window.BASE_PATH + url;\n    }\n    mini.open({\n        url: url,\n        showMaxButton: true,\n        title: title,\n        width: width,\n        height: height,\n        maskOnLoad: false,\n        showModal: false,\n        onload: onload,\n        ondestroy: ondestroy\n    });\n}\n\nmodule.exports = {\n    /**\n     * 给表单绑定回车事件\n     * @param formEl 表单选择器,如:#search-box\n     * @param fun 回调\n     */\n    bindOnEnter: function (formEl, fun) {\n        var form = new mini.Form(formEl);\n        var fields = form.getFields();\n        for (var i = 0; i < fields.length; i++) {\n            var field = fields[i];\n            if (!field.onenter && field.on) {\n                field.on("enter", fun);\n            }\n        }\n    },\n    /**\n     * 查询表格\n     * @param formEL 查询条件表单选择器,如:#search-box\n     * @param grid 表格对象\n     */\n    searchGrid: function (formEL, grid) {\n        var param = new mini.Form(formEL).getData();\n        var request = __webpack_require__(1);\n        grid.load(request.encodeQueryParam(param));\n    },\n    /**\n     * 引入一个插件\n     */\n    importPlugin: importPlugin,\n    /**\n     * 引入miniui\n     */\n    loadMiniui: loadMiniui,\n    /**\n     * 打开窗口\n     */\n    openWindow: openWindow,\n    /**\n     * 显示消息提示\n     */\n    showTips: showTips,\n    /**\n     * 关闭窗口并返回数据\n     * @param data\n     * @returns {*}\n     */\n    closeWindow: function (data) {\n        if (window.CloseOwnerWindow) return window.CloseOwnerWindow(data);\n        else window.close();\n    },\n    showFormErrors: function (formEl, result) {\n        var errorMessage;\n        if (typeof result == \'string\') {\n            errorMessage = mini.decode(result);\n        } else {\n            errorMessage = result;\n        }\n        if (errorMessage) {\n            $(errorMessage).each(function () {\n                var field = mini.getbyName(this.field);\n                if (field) {\n                    field.setIsValid(false);\n                    field.setErrorText(this.message);\n                    field.focus();\n                }\n            });\n        }\n    },\n    /**\n     * 初始化表格对象,修改其默认配置,以适配后台api\n     * @param grid 表格对象\n     */\n    initGrid: function (grid) {\n        grid.setSortFieldField("sorts[0].name");\n        grid.setSortOrderField("sorts[0].dir");\n        //后台响应数据格式\n        grid.setDataField("result.data");\n        grid.setTotalField("result.total");\n        grid.allowAlternating = true;\n        //查询全部为GET\n        grid.setAjaxOptions({\n            type: "GET",\n            dataType: "json"\n        });\n        grid.un("loaderror",\n            function (e) {\n            });\n        // 解决弹出选择控件的bug\n        grid.on("cellbeginedit", function (e) {\n            if (e.editor && e.editor.type == "buttonedit") {\n                e.editor.setValue(e.value);\n                e.editor.setText(e.value);\n            }\n        });\n        //加载失败进行提示\n        grid.on("loaderror",\n            function (e) {\n                try {\n                    var res = mini.decode(e.xhr.responseText);\n                    if (res.status == 401) {\n                        if (window.doLogin) {\n                            window.doLogin(function () {\n                                grid.reload()\n                            });\n                        }\n                        else if (window.top.doLogin) {\n                            window.top.doLogin(function () {\n                                grid.reload()\n                            });\n                        }\n                        else {\n                            showTips("请登录", "danger");\n                        }\n\n                    } else if (res.status == 403) {\n                        showTips("权限不够", "danger");\n                    } else if (res.status == 500) {\n                        showTips("数据加载失败:" + res.message, "danger");\n                        if (window.console) {\n                            window.console.log(res.message);\n                        }\n                    } else {\n                        showTips("数据加载失败:" + res.message, "danger");\n                    }\n                } catch (e) {\n                    showTips("加载失败...");\n                }\n            });\n\n        var tip = new mini.ToolTip();\n        tip.set({\n            target: document,\n            selector: \'.action-button\'\n        });\n    },\n    createActionButton: function (title, icon, onclick) {\n        if (!window.action_countter)window.action_countter = 0;\n        var callId = "action_" + (++window.action_countter);\n        window[callId] = onclick;\n        return ["<span", " onclick=\'", callId, "()\'", " title=\'", title, "\'", " class=\'action-button ", icon, "\'", "></span>"].join("");\n    },\n    /**\n     * 显示加载中提示\n     * @param message 提示的消息\n     * @returns {{close: hide,hide:hide}} 关闭显示的回调,调用close和hide都可以\n     */\n    loading: function (message) {\n        mini.mask({\n            el: document.body,\n            cls: \'mini-mask-loading\',\n            html: message\n        });\n        function hide() {\n            mini.unmask(document.body);\n        }\n\n        return {\n            close: hide,\n            hide: hide\n        };\n    },\n    getCookie: getCookie,\n    getFormData: function (formEl, validate) {\n        var form = new mini.Form(formEl);\n        form.validate();\n        if (validate && form.isValid() == false) {\n            return;\n        }\n        return form.getData();\n    }\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYm9vdC5qcz9lN2UzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBLG1CQUFtQixvQkFBb0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsbUJBQW1CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHVCQUF1QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuQkFTRV9QQVRIID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX187XG53aW5kb3cuQVBJX0JBU0VfUEFUSCA9IGdldENvb2tpZShcImFwaV9yb290XCIsIFwiL1wiKTtcblxud2luZG93Lm1pbmlfZGVidWdnZXIgPSBmYWxzZTtcbi8qKlxuICog5byV5YWl5LiA5Liq5o+S5Lu2KGpz5oiW6ICFY3NzKVxuICogQHBhcmFtIHBhdGgg5o+S5Lu26Lev5b6EXG4gKiBAcGFyYW0gY2FsbGJhY2sg5Yqg6L295a6M5oiQ5Zue6LCDLGNzc+S4jeS8muaJp+ihjOWbnuiwg1xuICovXG5mdW5jdGlvbiBpbXBvcnRQbHVnaW4ocGF0aCwgY2FsbGJhY2spIHtcbiAgICBpZiAocGF0aC5pbmRleE9mKFwiaHR0cFwiKSAhPSAwIHx8IHBhdGguaW5kZXhPZihcIi8vXCIpICE9IDApIHtcbiAgICAgICAgcGF0aCA9IHdpbmRvdy5CQVNFX1BBVEggKyBwYXRoO1xuICAgIH1cbiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgaWYgKHBhdGguaW5kZXhPZihcImpzXCIpID09IHBhdGgubGVuZ3RoIC0gMikge1xuICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgICAgIHNjcmlwdC5jaGFyc2V0ID0gJ3V0Zi04JztcbiAgICAgICAgc2NyaXB0LnRpbWVvdXQgPSAxMjAwMDA7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgICAgIHNjcmlwdC5zcmMgPSBwYXRoO1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIGZ1bmN0aW9uIG9ubG9hZCgpIHtcbiAgICAgICAgICAgIHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjayljYWxsYmFjaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IG9ubG9hZDtcbiAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSBvbmxvYWQ7XG5cbiAgICB9IGVsc2UgaWYgKHBhdGguaW5kZXhPZihcImNzc1wiKSA9PSBwYXRoLmxlbmd0aCAtIDMpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgICBzdHlsZS5yZWwgPSBcInN0eWxlc2hlZXRcIjtcbiAgICAgICAgc3R5bGUuaHJlZiA9IHBhdGg7XG4gICAgICAgIHN0eWxlLnR5cGUgPSBcInRleHQvY3NzXCI7XG4gICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiDojrflj5Zjb29rZVxuICogQHBhcmFtIHNOYW1lIGNvb2tpZeWQjeensFxuICogQHBhcmFtIGRlZmF1bHRWYWwg6buY6K6k5YC8XG4gKiBAcmV0dXJucyB7Kn0gY29va2ll5YC8XG4gKi9cbmZ1bmN0aW9uIGdldENvb2tpZShzTmFtZSwgZGVmYXVsdFZhbCkge1xuICAgIHZhciBhQ29va2llID0gZG9jdW1lbnQuY29va2llLnNwbGl0KFwiOyBcIik7XG4gICAgdmFyIGxhc3RNYXRjaCA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhQ29va2llLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhQ3J1bWIgPSBhQ29va2llW2ldLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgaWYgKHNOYW1lID09IGFDcnVtYlswXSkge1xuICAgICAgICAgICAgbGFzdE1hdGNoID0gYUNydW1iO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChsYXN0TWF0Y2gpIHtcbiAgICAgICAgdmFyIHYgPSBsYXN0TWF0Y2hbMV07XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHJldHVybiB2O1xuICAgICAgICByZXR1cm4gdW5lc2NhcGUodik7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VmFsO1xufVxuZnVuY3Rpb24gbG9hZE1pbml1aShjYWxsYmFjaykge1xuXG4gICAgdmFyIHRoZW1lID0gZ2V0Q29va2llKFwidGhlbWVcIiwgd2luZG93Lm1pbml1aV90aGVtZSA/IHdpbmRvdy5taW5pdWlfdGhlbWUgOiBcInB1cmVcIik7XG4gICAgdmFyIG1vZGUgPSBnZXRDb29raWUoXCJtb2RlXCIsIFwibGFyZ2VcIik7XG5cbiAgICBmdW5jdGlvbiBsb2FkTWluaSgpIHtcbiAgICAgICAgaW1wb3J0UGx1Z2luKFwicGx1Z2lucy9taW5pdWkvdGhlbWVzL2RlZmF1bHQvbWluaXVpLmNzc1wiKTtcbiAgICAgICAgaW1wb3J0UGx1Z2luKFwicGx1Z2lucy9taW5pdWkvdGhlbWVzL2ljb25zLmNzc1wiKTtcbiAgICAgICAgaW1wb3J0UGx1Z2luKCdwbHVnaW5zL21pbml1aS90aGVtZXMvJyArIHRoZW1lICsgJy9za2luLmNzcycpO1xuICAgICAgICBpbXBvcnRQbHVnaW4oXCJwbHVnaW5zL21pbml1aS90aGVtZXMvZGVmYXVsdC9cIiArIG1vZGUgKyBcIi1tb2RlLmNzc1wiKTtcbiAgICAgICAgaW1wb3J0UGx1Z2luKFwicGx1Z2lucy9taW5pdWkvbWluaXVpLmpzXCIsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHtcbiAgICAgICAgaW1wb3J0UGx1Z2luKFwicGx1Z2lucy9qcXVlcnkvanF1ZXJ5Lm1pbi5qc1wiLCBsb2FkTWluaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbG9hZE1pbmkoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzaG93VGlwcyhtc2csIHN0YXRlKSB7XG4gICAgbWluaS5zaG93VGlwcyh7XG4gICAgICAgIGNvbnRlbnQ6IG1zZyxcbiAgICAgICAgc3RhdGU6IHN0YXRlIHx8ICdzdWNjZXNzJyxcbiAgICAgICAgeDogJ2NlbnRlcicsXG4gICAgICAgIHk6ICd0b3AnLFxuICAgICAgICB0aW1lb3V0OiAzMDAwXG4gICAgfSk7XG59XG4vKipcbiAqIOaJk+W8gOeql+WPo1xuICogQHBhcmFtIHVybCDnqpflj6PnmoRVUkxcbiAqIEBwYXJhbSB0aXRsZSDmoIfpophcbiAqIEBwYXJhbSB3aWR0aCDlrr3luqZcbiAqIEBwYXJhbSBoZWlnaHQg6auY5bqmXG4gKiBAcGFyYW0gb25kZXN0cm95IOmUgOavgeaXtuWbnuiwgyAsIOaJk+W8gOeahOmhtemdoumAmui/hyBib290LmNsb3NlV2luZG93KHJlc3BvbnNlKSA75Lyg6YCS6L+U5Zue5YC8LiDpgJrov4flm57osIPlj4LmlbDojrflj5YuXG4gKiBAcGFyYW0gb25sb2FkIOWKoOi9veaXtuavgeaOiSAsIOWPr+mAmui/hyB0aGlzLmdldElGcmFtZUVsKCk7IOiOt+WPlmZyYW1l5a+56LGhXG4gKi9cbmZ1bmN0aW9uIG9wZW5XaW5kb3codXJsLCB0aXRsZSwgd2lkdGgsIGhlaWdodCwgb25kZXN0cm95LCBvbmxvYWQpIHtcbiAgICBpZiAodXJsLmluZGV4T2YoXCJodHRwXCIpICE9IDApIHtcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKFwiL1wiKSA9PSAwKXVybCA9IHVybC5zdWJzdHIoMSk7XG4gICAgICAgIHVybCA9IHdpbmRvdy5CQVNFX1BBVEggKyB1cmw7XG4gICAgfVxuICAgIG1pbmkub3Blbih7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBzaG93TWF4QnV0dG9uOiB0cnVlLFxuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIG1hc2tPbkxvYWQ6IGZhbHNlLFxuICAgICAgICBzaG93TW9kYWw6IGZhbHNlLFxuICAgICAgICBvbmxvYWQ6IG9ubG9hZCxcbiAgICAgICAgb25kZXN0cm95OiBvbmRlc3Ryb3lcbiAgICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgLyoqXG4gICAgICog57uZ6KGo5Y2V57uR5a6a5Zue6L2m5LqL5Lu2XG4gICAgICogQHBhcmFtIGZvcm1FbCDooajljZXpgInmi6nlmags5aaCOiNzZWFyY2gtYm94XG4gICAgICogQHBhcmFtIGZ1biDlm57osINcbiAgICAgKi9cbiAgICBiaW5kT25FbnRlcjogZnVuY3Rpb24gKGZvcm1FbCwgZnVuKSB7XG4gICAgICAgIHZhciBmb3JtID0gbmV3IG1pbmkuRm9ybShmb3JtRWwpO1xuICAgICAgICB2YXIgZmllbGRzID0gZm9ybS5nZXRGaWVsZHMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmaWVsZCA9IGZpZWxkc1tpXTtcbiAgICAgICAgICAgIGlmICghZmllbGQub25lbnRlciAmJiBmaWVsZC5vbikge1xuICAgICAgICAgICAgICAgIGZpZWxkLm9uKFwiZW50ZXJcIiwgZnVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICog5p+l6K+i6KGo5qC8XG4gICAgICogQHBhcmFtIGZvcm1FTCDmn6Xor6LmnaHku7booajljZXpgInmi6nlmags5aaCOiNzZWFyY2gtYm94XG4gICAgICogQHBhcmFtIGdyaWQg6KGo5qC85a+56LGhXG4gICAgICovXG4gICAgc2VhcmNoR3JpZDogZnVuY3Rpb24gKGZvcm1FTCwgZ3JpZCkge1xuICAgICAgICB2YXIgcGFyYW0gPSBuZXcgbWluaS5Gb3JtKGZvcm1FTCkuZ2V0RGF0YSgpO1xuICAgICAgICB2YXIgcmVxdWVzdCA9IHJlcXVpcmUoXCJyZXF1ZXN0XCIpO1xuICAgICAgICBncmlkLmxvYWQocmVxdWVzdC5lbmNvZGVRdWVyeVBhcmFtKHBhcmFtKSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDlvJXlhaXkuIDkuKrmj5Lku7ZcbiAgICAgKi9cbiAgICBpbXBvcnRQbHVnaW46IGltcG9ydFBsdWdpbixcbiAgICAvKipcbiAgICAgKiDlvJXlhaVtaW5pdWlcbiAgICAgKi9cbiAgICBsb2FkTWluaXVpOiBsb2FkTWluaXVpLFxuICAgIC8qKlxuICAgICAqIOaJk+W8gOeql+WPo1xuICAgICAqL1xuICAgIG9wZW5XaW5kb3c6IG9wZW5XaW5kb3csXG4gICAgLyoqXG4gICAgICog5pi+56S65raI5oGv5o+Q56S6XG4gICAgICovXG4gICAgc2hvd1RpcHM6IHNob3dUaXBzLFxuICAgIC8qKlxuICAgICAqIOWFs+mXreeql+WPo+W5tui/lOWbnuaVsOaNrlxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgY2xvc2VXaW5kb3c6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmICh3aW5kb3cuQ2xvc2VPd25lcldpbmRvdykgcmV0dXJuIHdpbmRvdy5DbG9zZU93bmVyV2luZG93KGRhdGEpO1xuICAgICAgICBlbHNlIHdpbmRvdy5jbG9zZSgpO1xuICAgIH0sXG4gICAgc2hvd0Zvcm1FcnJvcnM6IGZ1bmN0aW9uIChmb3JtRWwsIHJlc3VsdCkge1xuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gbWluaS5kZWNvZGUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICAkKGVycm9yTWVzc2FnZSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gbWluaS5nZXRieU5hbWUodGhpcy5maWVsZCk7XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLnNldElzVmFsaWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBmaWVsZC5zZXRFcnJvclRleHQodGhpcy5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICog5Yid5aeL5YyW6KGo5qC85a+56LGhLOS/ruaUueWFtum7mOiupOmFjee9rizku6XpgILphY3lkI7lj7BhcGlcbiAgICAgKiBAcGFyYW0gZ3JpZCDooajmoLzlr7nosaFcbiAgICAgKi9cbiAgICBpbml0R3JpZDogZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgZ3JpZC5zZXRTb3J0RmllbGRGaWVsZChcInNvcnRzWzBdLm5hbWVcIik7XG4gICAgICAgIGdyaWQuc2V0U29ydE9yZGVyRmllbGQoXCJzb3J0c1swXS5kaXJcIik7XG4gICAgICAgIC8v5ZCO5Y+w5ZON5bqU5pWw5o2u5qC85byPXG4gICAgICAgIGdyaWQuc2V0RGF0YUZpZWxkKFwicmVzdWx0LmRhdGFcIik7XG4gICAgICAgIGdyaWQuc2V0VG90YWxGaWVsZChcInJlc3VsdC50b3RhbFwiKTtcbiAgICAgICAgZ3JpZC5hbGxvd0FsdGVybmF0aW5nID0gdHJ1ZTtcbiAgICAgICAgLy/mn6Xor6Llhajpg6jkuLpHRVRcbiAgICAgICAgZ3JpZC5zZXRBamF4T3B0aW9ucyh7XG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiXG4gICAgICAgIH0pO1xuICAgICAgICBncmlkLnVuKFwibG9hZGVycm9yXCIsXG4gICAgICAgICAgICBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIC8vIOino+WGs+W8ueWHuumAieaLqeaOp+S7tueahGJ1Z1xuICAgICAgICBncmlkLm9uKFwiY2VsbGJlZ2luZWRpdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUuZWRpdG9yICYmIGUuZWRpdG9yLnR5cGUgPT0gXCJidXR0b25lZGl0XCIpIHtcbiAgICAgICAgICAgICAgICBlLmVkaXRvci5zZXRWYWx1ZShlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBlLmVkaXRvci5zZXRUZXh0KGUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy/liqDovb3lpLHotKXov5vooYzmj5DnpLpcbiAgICAgICAgZ3JpZC5vbihcImxvYWRlcnJvclwiLFxuICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gbWluaS5kZWNvZGUoZS54aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmRvTG9naW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9Mb2dpbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWQucmVsb2FkKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHdpbmRvdy50b3AuZG9Mb2dpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy50b3AuZG9Mb2dpbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWQucmVsb2FkKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKFwi6K+355m75b2VXCIsIFwiZGFuZ2VyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA9PSA0MDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKFwi5p2D6ZmQ5LiN5aSfXCIsIFwiZGFuZ2VyXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT0gNTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhcIuaVsOaNruWKoOi9veWksei0pTpcIiArIHJlcy5tZXNzYWdlLCBcImRhbmdlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhcIuaVsOaNruWKoOi9veWksei0pTpcIiArIHJlcy5tZXNzYWdlLCBcImRhbmdlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoXCLliqDovb3lpLHotKUuLi5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHRpcCA9IG5ldyBtaW5pLlRvb2xUaXAoKTtcbiAgICAgICAgdGlwLnNldCh7XG4gICAgICAgICAgICB0YXJnZXQ6IGRvY3VtZW50LFxuICAgICAgICAgICAgc2VsZWN0b3I6ICcuYWN0aW9uLWJ1dHRvbidcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBjcmVhdGVBY3Rpb25CdXR0b246IGZ1bmN0aW9uICh0aXRsZSwgaWNvbiwgb25jbGljaykge1xuICAgICAgICBpZiAoIXdpbmRvdy5hY3Rpb25fY291bnR0ZXIpd2luZG93LmFjdGlvbl9jb3VudHRlciA9IDA7XG4gICAgICAgIHZhciBjYWxsSWQgPSBcImFjdGlvbl9cIiArICgrK3dpbmRvdy5hY3Rpb25fY291bnR0ZXIpO1xuICAgICAgICB3aW5kb3dbY2FsbElkXSA9IG9uY2xpY2s7XG4gICAgICAgIHJldHVybiBbXCI8c3BhblwiLCBcIiBvbmNsaWNrPSdcIiwgY2FsbElkLCBcIigpJ1wiLCBcIiB0aXRsZT0nXCIsIHRpdGxlLCBcIidcIiwgXCIgY2xhc3M9J2FjdGlvbi1idXR0b24gXCIsIGljb24sIFwiJ1wiLCBcIj48L3NwYW4+XCJdLmpvaW4oXCJcIik7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDmmL7npLrliqDovb3kuK3mj5DnpLpcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSDmj5DnpLrnmoTmtojmga9cbiAgICAgKiBAcmV0dXJucyB7e2Nsb3NlOiBoaWRlLGhpZGU6aGlkZX19IOWFs+mXreaYvuekuueahOWbnuiwgyzosIPnlKhjbG9zZeWSjGhpZGXpg73lj6/ku6VcbiAgICAgKi9cbiAgICBsb2FkaW5nOiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBtaW5pLm1hc2soe1xuICAgICAgICAgICAgZWw6IGRvY3VtZW50LmJvZHksXG4gICAgICAgICAgICBjbHM6ICdtaW5pLW1hc2stbG9hZGluZycsXG4gICAgICAgICAgICBodG1sOiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgICAgICAgbWluaS51bm1hc2soZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2xvc2U6IGhpZGUsXG4gICAgICAgICAgICBoaWRlOiBoaWRlXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBnZXRDb29raWU6IGdldENvb2tpZSxcbiAgICBnZXRGb3JtRGF0YTogZnVuY3Rpb24gKGZvcm1FbCwgdmFsaWRhdGUpIHtcbiAgICAgICAgdmFyIGZvcm0gPSBuZXcgbWluaS5Gb3JtKGZvcm1FbCk7XG4gICAgICAgIGZvcm0udmFsaWRhdGUoKTtcbiAgICAgICAgaWYgKHZhbGlkYXRlICYmIGZvcm0uaXNWYWxpZCgpID09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm0uZ2V0RGF0YSgpO1xuICAgIH1cbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9ib290LmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSJdLCJzb3VyY2VSb290IjoiIn0=')},2:function(module,exports){eval("// removed by extract-text-webpack-plugin//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9ucy9jb21tb24uY3NzPzQzMDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tbW9ucy9jb21tb24uY3NzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggMTAgMTEgMTIgMTMiXSwic291cmNlUm9vdCI6IiJ9")},21:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('Object.defineProperty(__webpack_exports__, "__esModule", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_boot__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_boot___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_boot__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_request__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_request___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_request__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_common_common_css__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_common_common_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_common_common_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__save_css__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__save_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__save_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_script_editor__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_script_editor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__utils_script_editor__);\n\n\n\n\n\n\nvar defaultActionData = [\n    {"action": "query", "describe": "查询列表", defaultCheck: true},\n    {"action": "get", "describe": "查询明细", defaultCheck: true},\n    {"action": "add", "describe": "新增", defaultCheck: true},\n    {"action": "update", "describe": "修改", defaultCheck: true},\n    {"action": "delete", "describe": "删除", defaultCheck: false}\n];\n\nwindow.dataAccessesType = [\n    {text: "只能操作自己创建的数据", id: "OWN_CREATED"},\n    // {text: "脚本", id: "SCRIPT"},\n    {text: "自定义控制器", id: "CUSTOM"}\n    // {text: "自定义控制器", id: "CUSTOM"},\n];\n\nwindow.renderDataAccessedType = function (e) {\n    var value = $(dataAccessesType).filter(function () {\n        return this.id == e.value;\n    });\n    return value[0] ? value[0].text : e.value;\n}\nwindow.renderAction = function (e) {\n    let row = e.record;\n    return [\n        __WEBPACK_IMPORTED_MODULE_0_boot___default.a.createActionButton("删除", "icon-remove", function () {\n            e.sender.removeRow(row);\n        })\n    ].join("");\n}\nwindow.rendererTrueFalse = function (e) {\n    return e.value ? "是" : "否";\n}\nwindow.openScript = function (e) {\n    var grid = mini.get(\'data-accesses-grid\');\n    var cell = grid.getCurrentCell();\n    var row = cell[0];\n    if (row.type == "OWN_CREATED") {\n        e.sender.emptyText = "此类型无需配置";\n    } else if (row.type == "SCRIPT") {\n        var lang_box = mini.getbyName("script-language");\n        lang_box.un("valuechanged");\n        var old = e.sender.getValue();\n        if (!old) {\n            old = mini.encode({"language": "javascript", "script": ""});\n        }\n        old = mini.decode(old);\n        __WEBPACK_IMPORTED_MODULE_4__utils_script_editor___default.a.createEditor("editor", function (editor) {\n            lang_box.on("valuechanged", function () {\n                editor.init(lang_box.getValue(), editor.getScript())\n            });\n\n            editor.init(old.language, old.script);\n            mini.get(\'scriptEditorWindow\').show();\n            $(".script-ok").click(function () {\n                var script = editor.getScript();\n                mini.get(\'scriptEditorWindow\').hide();\n                cell[0][cell[1].field] = mini.encode({"script": script, "language": lang_box.getValue()});\n                grid.updateRow(cell[0]);\n            });\n        });\n    } else {\n        e.sender.emptyText = "请输入类全名或spring bean name";\n    }\n}\n\nfunction loadData(id) {\n    __WEBPACK_IMPORTED_MODULE_1_request___default.a.get("permission/" + id, function (response) {\n        if (response.status == 200) {\n            new mini.Form("#basic-info").setData(response.result);\n            mini.getbyName("id").setReadOnly(true);\n            mini.get(\'action-grid\').setData(response.result.actions);\n            // mini.get(\'data-accesses-grid\').setData(response.result.dataAccess);\n            $(response.result.optionalFields).each(function () {\n                this.actions = this.actions + "";\n            });\n            mini.get(\'field-accesses-grid\').setData(response.result.optionalFields);\n        } else {\n            __WEBPACK_IMPORTED_MODULE_0_boot___default.a.showTips("加载数据失败", "danger");\n        }\n    });\n\n}\nfunction getDataAndValidate() {\n    var form = new mini.Form("#basic-info");\n    form.validate();\n    if (form.isValid() == false) {\n\n        return;\n    }\n    var data = form.getData();\n    data.actions = mini.get(\'action-grid\').getData();\n\n    // data.dataAccess = mini.get(\'data-accesses-grid\').getData();\n    data.optionalFields = mini.clone(mini.get(\'field-accesses-grid\').getData());\n    $(data.optionalFields).each(function () {\n        if (this.actions)\n            this.actions = this.actions.split(",");\n    });\n    return data;\n}\nfunction initDataAccessEditor(grid) {\n    grid.on("cellbeginedit", function (e) {\n        var row = e.record;\n        if (e.field == "config") {\n            if (row.type == "OWN_CREATED") {\n                e.cancel = true;\n                __WEBPACK_IMPORTED_MODULE_0_boot___default.a.showTips("此类型无需配置");\n            } else if (row.type == "SCRIPT") {\n                var loading = __WEBPACK_IMPORTED_MODULE_0_boot___default.a.loading("正在加载编辑器...");\n                var lang_box = mini.getbyName("script-language");\n                lang_box.un("valuechanged");\n                var old = row.config;\n                if (!old) {\n                    old = mini.encode({"language": "javascript", "script": ""});\n                }\n                old = mini.decode(old);\n                __WEBPACK_IMPORTED_MODULE_4__utils_script_editor___default.a.createEditor("editor", function (editor) {\n                    loading.close();\n                    lang_box.on("valuechanged", function () {\n                        editor.init(lang_box.getValue(), editor.getScript())\n                    });\n                    editor.init(old.language, old.script);\n                    mini.get(\'scriptEditorWindow\').show();\n                    $(".script-ok").click(function () {\n                        var script = editor.getScript();\n                        row.config = mini.encode({"script": script, "language": lang_box.getValue()});\n                        grid.updateRow(row);\n                        mini.get(\'scriptEditorWindow\').hide();\n                    });\n                });\n            } else {\n                if (!window.custom_editor)\n                    window.custom_editor = mini.getbyName("config-custom");\n                e.editor = window.custom_editor;\n            }\n        }\n    });\n    grid.on("cellcommitedit", function (e) {\n        var record = e.record;\n        if (e.field == \'config\') {\n            if (e.editor) {\n                if (e.editor.getValue) {\n                    record.config = e.editor.getValue();\n                }\n            }\n        }\n    });\n}\n__WEBPACK_IMPORTED_MODULE_0_boot___default.a.loadMiniui(function () {\n    mini.parse();\n    mini.getbyName("id").on("validation", function (e) {\n        if (e.isValid) {\n            var re = new RegExp("^[a-zA-Z0-9_\\-]+$");\n            e.isValid = re.test(e.value);\n            if (!e.isValid) {\n                e.errorText = "必须由数字,字母,下划线,-组成";\n            }\n        }\n    });\n    // mini.get("data-accesses-grid").setData([{}]);\n    // boot.initGrid(mini.get("data-accesses-grid"));\n    __WEBPACK_IMPORTED_MODULE_0_boot___default.a.initGrid(mini.get("field-accesses-grid"));\n    // initDataAccessEditor(mini.get(\'data-accesses-grid\'));\n    mini.get("tabs").on("activechanged", function (e) {\n        // var action_editor = mini.get("action_editor"),\n        //     action_editor_2 = mini.get("action_editor_2");\n        // window.action_editor_data = mini.get(\'action-grid\').getData();\n        // if (action_editor)\n        //     action_editor.setData(window.action_editor_data);\n        // if (action_editor_2)\n        //     action_editor_2.setData(window.action_editor_data);\n    });\n\n    var api = "permission";\n    var func = __WEBPACK_IMPORTED_MODULE_1_request___default.a.post;\n\n    var id = __WEBPACK_IMPORTED_MODULE_1_request___default.a.getParameter("id");\n    if (id) {\n        loadData(id);\n        api += "/" + id;\n        func = __WEBPACK_IMPORTED_MODULE_1_request___default.a.put;\n    } else {\n        mini.get("action-grid").setData(defaultActionData);\n    }\n    $(".save-button").on("click", (function () {\n        var data = getDataAndValidate();\n        if (!data)return;\n        var loading = __WEBPACK_IMPORTED_MODULE_0_boot___default.a.loading("提交中");\n        func(api, data, function (response) {\n            loading.close();\n            if (response.status == 200) {\n                __WEBPACK_IMPORTED_MODULE_0_boot___default.a.showTips("保存成功");\n                if (!id)id = response.result;\n            } else {\n                __WEBPACK_IMPORTED_MODULE_0_boot___default.a.showTips("保存失败:" + response.message, "danger");\n                if (response.result)\n                    __WEBPACK_IMPORTED_MODULE_0_boot___default.a.showFormErrors("#basic-info", response.result);\n            }\n        })\n    }));\n\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGVybWlzc2lvbi9zYXZlLmpzPzVjNDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSywwREFBMEQ7QUFDL0QsS0FBSyx3REFBd0Q7QUFDN0QsS0FBSyxzREFBc0Q7QUFDM0QsS0FBSyx5REFBeUQ7QUFDOUQsS0FBSztBQUNMOztBQUVBO0FBQ0EsS0FBSyx1Q0FBdUM7QUFDNUMsUUFBUSx5QkFBeUI7QUFDakMsS0FBSztBQUNMLFFBQVEsNkJBQTZCO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHVDQUF1QztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGtEQUFrRDtBQUN4RztBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHVDQUF1QztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsa0RBQWtEO0FBQ3BHO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLOztBQUVMLENBQUMiLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYm9vdCBmcm9tIFwiYm9vdFwiO1xuaW1wb3J0IHJlcXVlc3QgZnJvbSBcInJlcXVlc3RcIjtcbmltcG9ydCBcImNvbW1vbi9jb21tb24uY3NzXCI7XG5pbXBvcnQgXCIuL3NhdmUuY3NzXCI7XG5pbXBvcnQgc2NyaXB0RWRpdG9yIGZyb20gXCIuLi91dGlscy9zY3JpcHQtZWRpdG9yXCI7XG5cbnZhciBkZWZhdWx0QWN0aW9uRGF0YSA9IFtcbiAgICB7XCJhY3Rpb25cIjogXCJxdWVyeVwiLCBcImRlc2NyaWJlXCI6IFwi5p+l6K+i5YiX6KGoXCIsIGRlZmF1bHRDaGVjazogdHJ1ZX0sXG4gICAge1wiYWN0aW9uXCI6IFwiZ2V0XCIsIFwiZGVzY3JpYmVcIjogXCLmn6Xor6LmmI7nu4ZcIiwgZGVmYXVsdENoZWNrOiB0cnVlfSxcbiAgICB7XCJhY3Rpb25cIjogXCJhZGRcIiwgXCJkZXNjcmliZVwiOiBcIuaWsOWinlwiLCBkZWZhdWx0Q2hlY2s6IHRydWV9LFxuICAgIHtcImFjdGlvblwiOiBcInVwZGF0ZVwiLCBcImRlc2NyaWJlXCI6IFwi5L+u5pS5XCIsIGRlZmF1bHRDaGVjazogdHJ1ZX0sXG4gICAge1wiYWN0aW9uXCI6IFwiZGVsZXRlXCIsIFwiZGVzY3JpYmVcIjogXCLliKDpmaRcIiwgZGVmYXVsdENoZWNrOiBmYWxzZX1cbl07XG5cbndpbmRvdy5kYXRhQWNjZXNzZXNUeXBlID0gW1xuICAgIHt0ZXh0OiBcIuWPquiDveaTjeS9nOiHquW3seWIm+W7uueahOaVsOaNrlwiLCBpZDogXCJPV05fQ1JFQVRFRFwifSxcbiAgICAvLyB7dGV4dDogXCLohJrmnKxcIiwgaWQ6IFwiU0NSSVBUXCJ9LFxuICAgIHt0ZXh0OiBcIuiHquWumuS5ieaOp+WItuWZqFwiLCBpZDogXCJDVVNUT01cIn1cbiAgICAvLyB7dGV4dDogXCLoh6rlrprkuYnmjqfliLblmahcIiwgaWQ6IFwiQ1VTVE9NXCJ9LFxuXTtcblxud2luZG93LnJlbmRlckRhdGFBY2Nlc3NlZFR5cGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciB2YWx1ZSA9ICQoZGF0YUFjY2Vzc2VzVHlwZSkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQgPT0gZS52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWVbMF0gPyB2YWx1ZVswXS50ZXh0IDogZS52YWx1ZTtcbn1cbndpbmRvdy5yZW5kZXJBY3Rpb24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGxldCByb3cgPSBlLnJlY29yZDtcbiAgICByZXR1cm4gW1xuICAgICAgICBib290LmNyZWF0ZUFjdGlvbkJ1dHRvbihcIuWIoOmZpFwiLCBcImljb24tcmVtb3ZlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGUuc2VuZGVyLnJlbW92ZVJvdyhyb3cpO1xuICAgICAgICB9KVxuICAgIF0uam9pbihcIlwiKTtcbn1cbndpbmRvdy5yZW5kZXJlclRydWVGYWxzZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIGUudmFsdWUgPyBcIuaYr1wiIDogXCLlkKZcIjtcbn1cbndpbmRvdy5vcGVuU2NyaXB0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgZ3JpZCA9IG1pbmkuZ2V0KCdkYXRhLWFjY2Vzc2VzLWdyaWQnKTtcbiAgICB2YXIgY2VsbCA9IGdyaWQuZ2V0Q3VycmVudENlbGwoKTtcbiAgICB2YXIgcm93ID0gY2VsbFswXTtcbiAgICBpZiAocm93LnR5cGUgPT0gXCJPV05fQ1JFQVRFRFwiKSB7XG4gICAgICAgIGUuc2VuZGVyLmVtcHR5VGV4dCA9IFwi5q2k57G75Z6L5peg6ZyA6YWN572uXCI7XG4gICAgfSBlbHNlIGlmIChyb3cudHlwZSA9PSBcIlNDUklQVFwiKSB7XG4gICAgICAgIHZhciBsYW5nX2JveCA9IG1pbmkuZ2V0YnlOYW1lKFwic2NyaXB0LWxhbmd1YWdlXCIpO1xuICAgICAgICBsYW5nX2JveC51bihcInZhbHVlY2hhbmdlZFwiKTtcbiAgICAgICAgdmFyIG9sZCA9IGUuc2VuZGVyLmdldFZhbHVlKCk7XG4gICAgICAgIGlmICghb2xkKSB7XG4gICAgICAgICAgICBvbGQgPSBtaW5pLmVuY29kZSh7XCJsYW5ndWFnZVwiOiBcImphdmFzY3JpcHRcIiwgXCJzY3JpcHRcIjogXCJcIn0pO1xuICAgICAgICB9XG4gICAgICAgIG9sZCA9IG1pbmkuZGVjb2RlKG9sZCk7XG4gICAgICAgIHNjcmlwdEVkaXRvci5jcmVhdGVFZGl0b3IoXCJlZGl0b3JcIiwgZnVuY3Rpb24gKGVkaXRvcikge1xuICAgICAgICAgICAgbGFuZ19ib3gub24oXCJ2YWx1ZWNoYW5nZWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5pbml0KGxhbmdfYm94LmdldFZhbHVlKCksIGVkaXRvci5nZXRTY3JpcHQoKSlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlZGl0b3IuaW5pdChvbGQubGFuZ3VhZ2UsIG9sZC5zY3JpcHQpO1xuICAgICAgICAgICAgbWluaS5nZXQoJ3NjcmlwdEVkaXRvcldpbmRvdycpLnNob3coKTtcbiAgICAgICAgICAgICQoXCIuc2NyaXB0LW9rXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NyaXB0ID0gZWRpdG9yLmdldFNjcmlwdCgpO1xuICAgICAgICAgICAgICAgIG1pbmkuZ2V0KCdzY3JpcHRFZGl0b3JXaW5kb3cnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgY2VsbFswXVtjZWxsWzFdLmZpZWxkXSA9IG1pbmkuZW5jb2RlKHtcInNjcmlwdFwiOiBzY3JpcHQsIFwibGFuZ3VhZ2VcIjogbGFuZ19ib3guZ2V0VmFsdWUoKX0pO1xuICAgICAgICAgICAgICAgIGdyaWQudXBkYXRlUm93KGNlbGxbMF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGUuc2VuZGVyLmVtcHR5VGV4dCA9IFwi6K+36L6T5YWl57G75YWo5ZCN5oiWc3ByaW5nIGJlYW4gbmFtZVwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9hZERhdGEoaWQpIHtcbiAgICByZXF1ZXN0LmdldChcInBlcm1pc3Npb24vXCIgKyBpZCwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7XG4gICAgICAgICAgICBuZXcgbWluaS5Gb3JtKFwiI2Jhc2ljLWluZm9cIikuc2V0RGF0YShyZXNwb25zZS5yZXN1bHQpO1xuICAgICAgICAgICAgbWluaS5nZXRieU5hbWUoXCJpZFwiKS5zZXRSZWFkT25seSh0cnVlKTtcbiAgICAgICAgICAgIG1pbmkuZ2V0KCdhY3Rpb24tZ3JpZCcpLnNldERhdGEocmVzcG9uc2UucmVzdWx0LmFjdGlvbnMpO1xuICAgICAgICAgICAgLy8gbWluaS5nZXQoJ2RhdGEtYWNjZXNzZXMtZ3JpZCcpLnNldERhdGEocmVzcG9uc2UucmVzdWx0LmRhdGFBY2Nlc3MpO1xuICAgICAgICAgICAgJChyZXNwb25zZS5yZXN1bHQub3B0aW9uYWxGaWVsZHMpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IHRoaXMuYWN0aW9ucyArIFwiXCI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1pbmkuZ2V0KCdmaWVsZC1hY2Nlc3Nlcy1ncmlkJykuc2V0RGF0YShyZXNwb25zZS5yZXN1bHQub3B0aW9uYWxGaWVsZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm9vdC5zaG93VGlwcyhcIuWKoOi9veaVsOaNruWksei0pVwiLCBcImRhbmdlclwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG59XG5mdW5jdGlvbiBnZXREYXRhQW5kVmFsaWRhdGUoKSB7XG4gICAgdmFyIGZvcm0gPSBuZXcgbWluaS5Gb3JtKFwiI2Jhc2ljLWluZm9cIik7XG4gICAgZm9ybS52YWxpZGF0ZSgpO1xuICAgIGlmIChmb3JtLmlzVmFsaWQoKSA9PSBmYWxzZSkge1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRhdGEgPSBmb3JtLmdldERhdGEoKTtcbiAgICBkYXRhLmFjdGlvbnMgPSBtaW5pLmdldCgnYWN0aW9uLWdyaWQnKS5nZXREYXRhKCk7XG5cbiAgICAvLyBkYXRhLmRhdGFBY2Nlc3MgPSBtaW5pLmdldCgnZGF0YS1hY2Nlc3Nlcy1ncmlkJykuZ2V0RGF0YSgpO1xuICAgIGRhdGEub3B0aW9uYWxGaWVsZHMgPSBtaW5pLmNsb25lKG1pbmkuZ2V0KCdmaWVsZC1hY2Nlc3Nlcy1ncmlkJykuZ2V0RGF0YSgpKTtcbiAgICAkKGRhdGEub3B0aW9uYWxGaWVsZHMpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5hY3Rpb25zKVxuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gdGhpcy5hY3Rpb25zLnNwbGl0KFwiLFwiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGF0YTtcbn1cbmZ1bmN0aW9uIGluaXREYXRhQWNjZXNzRWRpdG9yKGdyaWQpIHtcbiAgICBncmlkLm9uKFwiY2VsbGJlZ2luZWRpdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgcm93ID0gZS5yZWNvcmQ7XG4gICAgICAgIGlmIChlLmZpZWxkID09IFwiY29uZmlnXCIpIHtcbiAgICAgICAgICAgIGlmIChyb3cudHlwZSA9PSBcIk9XTl9DUkVBVEVEXCIpIHtcbiAgICAgICAgICAgICAgICBlLmNhbmNlbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYm9vdC5zaG93VGlwcyhcIuatpOexu+Wei+aXoOmcgOmFjee9rlwiKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocm93LnR5cGUgPT0gXCJTQ1JJUFRcIikge1xuICAgICAgICAgICAgICAgIHZhciBsb2FkaW5nID0gYm9vdC5sb2FkaW5nKFwi5q2j5Zyo5Yqg6L2957yW6L6R5ZmoLi4uXCIpO1xuICAgICAgICAgICAgICAgIHZhciBsYW5nX2JveCA9IG1pbmkuZ2V0YnlOYW1lKFwic2NyaXB0LWxhbmd1YWdlXCIpO1xuICAgICAgICAgICAgICAgIGxhbmdfYm94LnVuKFwidmFsdWVjaGFuZ2VkXCIpO1xuICAgICAgICAgICAgICAgIHZhciBvbGQgPSByb3cuY29uZmlnO1xuICAgICAgICAgICAgICAgIGlmICghb2xkKSB7XG4gICAgICAgICAgICAgICAgICAgIG9sZCA9IG1pbmkuZW5jb2RlKHtcImxhbmd1YWdlXCI6IFwiamF2YXNjcmlwdFwiLCBcInNjcmlwdFwiOiBcIlwifSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9sZCA9IG1pbmkuZGVjb2RlKG9sZCk7XG4gICAgICAgICAgICAgICAgc2NyaXB0RWRpdG9yLmNyZWF0ZUVkaXRvcihcImVkaXRvclwiLCBmdW5jdGlvbiAoZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmcuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgbGFuZ19ib3gub24oXCJ2YWx1ZWNoYW5nZWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmluaXQobGFuZ19ib3guZ2V0VmFsdWUoKSwgZWRpdG9yLmdldFNjcmlwdCgpKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmluaXQob2xkLmxhbmd1YWdlLCBvbGQuc2NyaXB0KTtcbiAgICAgICAgICAgICAgICAgICAgbWluaS5nZXQoJ3NjcmlwdEVkaXRvcldpbmRvdycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5zY3JpcHQtb2tcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGVkaXRvci5nZXRTY3JpcHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5jb25maWcgPSBtaW5pLmVuY29kZSh7XCJzY3JpcHRcIjogc2NyaXB0LCBcImxhbmd1YWdlXCI6IGxhbmdfYm94LmdldFZhbHVlKCl9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWQudXBkYXRlUm93KHJvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pLmdldCgnc2NyaXB0RWRpdG9yV2luZG93JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuY3VzdG9tX2VkaXRvcilcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmN1c3RvbV9lZGl0b3IgPSBtaW5pLmdldGJ5TmFtZShcImNvbmZpZy1jdXN0b21cIik7XG4gICAgICAgICAgICAgICAgZS5lZGl0b3IgPSB3aW5kb3cuY3VzdG9tX2VkaXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGdyaWQub24oXCJjZWxsY29tbWl0ZWRpdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgcmVjb3JkID0gZS5yZWNvcmQ7XG4gICAgICAgIGlmIChlLmZpZWxkID09ICdjb25maWcnKSB7XG4gICAgICAgICAgICBpZiAoZS5lZGl0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5lZGl0b3IuZ2V0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkLmNvbmZpZyA9IGUuZWRpdG9yLmdldFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5ib290LmxvYWRNaW5pdWkoZnVuY3Rpb24gKCkge1xuICAgIG1pbmkucGFyc2UoKTtcbiAgICBtaW5pLmdldGJ5TmFtZShcImlkXCIpLm9uKFwidmFsaWRhdGlvblwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5pc1ZhbGlkKSB7XG4gICAgICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKFwiXlthLXpBLVowLTlfXFwtXSskXCIpO1xuICAgICAgICAgICAgZS5pc1ZhbGlkID0gcmUudGVzdChlLnZhbHVlKTtcbiAgICAgICAgICAgIGlmICghZS5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgZS5lcnJvclRleHQgPSBcIuW/hemhu+eUseaVsOWtlyzlrZfmr40s5LiL5YiS57q/LC3nu4TmiJBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIG1pbmkuZ2V0KFwiZGF0YS1hY2Nlc3Nlcy1ncmlkXCIpLnNldERhdGEoW3t9XSk7XG4gICAgLy8gYm9vdC5pbml0R3JpZChtaW5pLmdldChcImRhdGEtYWNjZXNzZXMtZ3JpZFwiKSk7XG4gICAgYm9vdC5pbml0R3JpZChtaW5pLmdldChcImZpZWxkLWFjY2Vzc2VzLWdyaWRcIikpO1xuICAgIC8vIGluaXREYXRhQWNjZXNzRWRpdG9yKG1pbmkuZ2V0KCdkYXRhLWFjY2Vzc2VzLWdyaWQnKSk7XG4gICAgbWluaS5nZXQoXCJ0YWJzXCIpLm9uKFwiYWN0aXZlY2hhbmdlZFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvLyB2YXIgYWN0aW9uX2VkaXRvciA9IG1pbmkuZ2V0KFwiYWN0aW9uX2VkaXRvclwiKSxcbiAgICAgICAgLy8gICAgIGFjdGlvbl9lZGl0b3JfMiA9IG1pbmkuZ2V0KFwiYWN0aW9uX2VkaXRvcl8yXCIpO1xuICAgICAgICAvLyB3aW5kb3cuYWN0aW9uX2VkaXRvcl9kYXRhID0gbWluaS5nZXQoJ2FjdGlvbi1ncmlkJykuZ2V0RGF0YSgpO1xuICAgICAgICAvLyBpZiAoYWN0aW9uX2VkaXRvcilcbiAgICAgICAgLy8gICAgIGFjdGlvbl9lZGl0b3Iuc2V0RGF0YSh3aW5kb3cuYWN0aW9uX2VkaXRvcl9kYXRhKTtcbiAgICAgICAgLy8gaWYgKGFjdGlvbl9lZGl0b3JfMilcbiAgICAgICAgLy8gICAgIGFjdGlvbl9lZGl0b3JfMi5zZXREYXRhKHdpbmRvdy5hY3Rpb25fZWRpdG9yX2RhdGEpO1xuICAgIH0pO1xuXG4gICAgdmFyIGFwaSA9IFwicGVybWlzc2lvblwiO1xuICAgIHZhciBmdW5jID0gcmVxdWVzdC5wb3N0O1xuXG4gICAgdmFyIGlkID0gcmVxdWVzdC5nZXRQYXJhbWV0ZXIoXCJpZFwiKTtcbiAgICBpZiAoaWQpIHtcbiAgICAgICAgbG9hZERhdGEoaWQpO1xuICAgICAgICBhcGkgKz0gXCIvXCIgKyBpZDtcbiAgICAgICAgZnVuYyA9IHJlcXVlc3QucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1pbmkuZ2V0KFwiYWN0aW9uLWdyaWRcIikuc2V0RGF0YShkZWZhdWx0QWN0aW9uRGF0YSk7XG4gICAgfVxuICAgICQoXCIuc2F2ZS1idXR0b25cIikub24oXCJjbGlja1wiLCAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9IGdldERhdGFBbmRWYWxpZGF0ZSgpO1xuICAgICAgICBpZiAoIWRhdGEpcmV0dXJuO1xuICAgICAgICB2YXIgbG9hZGluZyA9IGJvb3QubG9hZGluZyhcIuaPkOS6pOS4rVwiKTtcbiAgICAgICAgZnVuYyhhcGksIGRhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgbG9hZGluZy5jbG9zZSgpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgICAgICBib290LnNob3dUaXBzKFwi5L+d5a2Y5oiQ5YqfXCIpO1xuICAgICAgICAgICAgICAgIGlmICghaWQpaWQgPSByZXNwb25zZS5yZXN1bHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJvb3Quc2hvd1RpcHMoXCLkv53lrZjlpLHotKU6XCIgKyByZXNwb25zZS5tZXNzYWdlLCBcImRhbmdlclwiKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICBib290LnNob3dGb3JtRXJyb3JzKFwiI2Jhc2ljLWluZm9cIiwgcmVzcG9uc2UucmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KSk7XG5cbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3Blcm1pc3Npb24vc2F2ZS5qc1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==')},3:function(module,exports,__webpack_require__){eval('/**\n * 脚本编辑器初始化工具\n */\nvar boot = __webpack_require__(0);\nvar aceEditor = {};\n\nfunction initAce(el, call) {\n    function justInit() {\n        var langTools = ace.require("ace/ext/language_tools");\n        var editor = ace.edit(el);\n        editor.setTheme("ace/theme/eclipse");\n        aceEditor[el] = {};\n\n        aceEditor[el].setScript = function (script) {\n            if (script) {\n                editor.setValue(script, -1);\n            }\n        }\n        aceEditor[el].getScript = function () {\n            return editor.getValue();\n        }\n        aceEditor[el].init = function (lang, script) {\n            editor.getSession().setMode("ace/mode/" + lang);\n            editor.$blockScrolling = Infinity;\n            editor.setOptions({\n                enableBasicAutocompletion: true,\n                enableSnippets: true,\n                enableLiveAutocompletion: true\n            });\n            editor.setValue(script, -1);\n        }\n        aceEditor[el].setCompleteData = function (data) {\n            langTools.addCompleter({\n                getCompletions: function (editor, session, pos, prefix, callback) {\n                    if (prefix.length === 0) {\n                        return callback(null, []);\n                    } else {\n                        return callback(null, data);\n                    }\n                }\n            });\n        }\n        call(aceEditor[el]);\n    }\n\n    if (!window.ace) {\n        boot.importPlugin("plugins/ace/ace.js", function () {\n            boot.importPlugin("plugins/ace/ext-language_tools.js", function () {\n                justInit();\n            });\n        });\n    } else {\n        justInit();\n    }\n\n}\n\nmodule.exports = {\n    /**\n     * 创建一个编辑器\n     * @param id 编辑器容器ID 如: editor\n     * @param cbk 创建后调用回调 并传入编辑器对象,可调用此对象的 setScript getScript init(language,script)等进行操作\n     */\n    createEditor: function (id, cbk) {\n        if (!aceEditor[id]) {\n            initAce(id, cbk);\n        } else {\n            cbk(aceEditor[id]);\n        }\n    }\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvc2NyaXB0LWVkaXRvci5qcz80ZmI4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog6ISa5pys57yW6L6R5Zmo5Yid5aeL5YyW5bel5YW3XG4gKi9cbnZhciBib290ID0gcmVxdWlyZShcImJvb3RcIik7XG52YXIgYWNlRWRpdG9yID0ge307XG5cbmZ1bmN0aW9uIGluaXRBY2UoZWwsIGNhbGwpIHtcbiAgICBmdW5jdGlvbiBqdXN0SW5pdCgpIHtcbiAgICAgICAgdmFyIGxhbmdUb29scyA9IGFjZS5yZXF1aXJlKFwiYWNlL2V4dC9sYW5ndWFnZV90b29sc1wiKTtcbiAgICAgICAgdmFyIGVkaXRvciA9IGFjZS5lZGl0KGVsKTtcbiAgICAgICAgZWRpdG9yLnNldFRoZW1lKFwiYWNlL3RoZW1lL2VjbGlwc2VcIik7XG4gICAgICAgIGFjZUVkaXRvcltlbF0gPSB7fTtcblxuICAgICAgICBhY2VFZGl0b3JbZWxdLnNldFNjcmlwdCA9IGZ1bmN0aW9uIChzY3JpcHQpIHtcbiAgICAgICAgICAgIGlmIChzY3JpcHQpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0VmFsdWUoc2NyaXB0LCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWNlRWRpdG9yW2VsXS5nZXRTY3JpcHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZWRpdG9yLmdldFZhbHVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgYWNlRWRpdG9yW2VsXS5pbml0ID0gZnVuY3Rpb24gKGxhbmcsIHNjcmlwdCkge1xuICAgICAgICAgICAgZWRpdG9yLmdldFNlc3Npb24oKS5zZXRNb2RlKFwiYWNlL21vZGUvXCIgKyBsYW5nKTtcbiAgICAgICAgICAgIGVkaXRvci4kYmxvY2tTY3JvbGxpbmcgPSBJbmZpbml0eTtcbiAgICAgICAgICAgIGVkaXRvci5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgICAgICBlbmFibGVCYXNpY0F1dG9jb21wbGV0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVuYWJsZVNuaXBwZXRzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVuYWJsZUxpdmVBdXRvY29tcGxldGlvbjogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlZGl0b3Iuc2V0VmFsdWUoc2NyaXB0LCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgYWNlRWRpdG9yW2VsXS5zZXRDb21wbGV0ZURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgbGFuZ1Rvb2xzLmFkZENvbXBsZXRlcih7XG4gICAgICAgICAgICAgICAgZ2V0Q29tcGxldGlvbnM6IGZ1bmN0aW9uIChlZGl0b3IsIHNlc3Npb24sIHBvcywgcHJlZml4LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJlZml4Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhbGwoYWNlRWRpdG9yW2VsXSk7XG4gICAgfVxuXG4gICAgaWYgKCF3aW5kb3cuYWNlKSB7XG4gICAgICAgIGJvb3QuaW1wb3J0UGx1Z2luKFwicGx1Z2lucy9hY2UvYWNlLmpzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJvb3QuaW1wb3J0UGx1Z2luKFwicGx1Z2lucy9hY2UvZXh0LWxhbmd1YWdlX3Rvb2xzLmpzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBqdXN0SW5pdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGp1c3RJbml0KCk7XG4gICAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8qKlxuICAgICAqIOWIm+W7uuS4gOS4que8lui+keWZqFxuICAgICAqIEBwYXJhbSBpZCDnvJbovpHlmajlrrnlmahJRCDlpoI6IGVkaXRvclxuICAgICAqIEBwYXJhbSBjYmsg5Yib5bu65ZCO6LCD55So5Zue6LCDIOW5tuS8oOWFpee8lui+keWZqOWvueixoSzlj6/osIPnlKjmraTlr7nosaHnmoQgc2V0U2NyaXB0IGdldFNjcmlwdCBpbml0KGxhbmd1YWdlLHNjcmlwdCnnrYnov5vooYzmk43kvZxcbiAgICAgKi9cbiAgICBjcmVhdGVFZGl0b3I6IGZ1bmN0aW9uIChpZCwgY2JrKSB7XG4gICAgICAgIGlmICghYWNlRWRpdG9yW2lkXSkge1xuICAgICAgICAgICAgaW5pdEFjZShpZCwgY2JrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNiayhhY2VFZGl0b3JbaWRdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy91dGlscy9zY3JpcHQtZWRpdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDE0Il0sInNvdXJjZVJvb3QiOiIifQ==')},8:function(module,exports){eval("// removed by extract-text-webpack-plugin//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGVybWlzc2lvbi9zYXZlLmNzcz85NTcyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3Blcm1pc3Npb24vc2F2ZS5jc3Ncbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==")}},[21]);