webpackJsonp([7,15],{0:function(module,exports,__webpack_require__){eval('window.BASE_PATH = __webpack_require__.p;\nwindow.API_BASE_PATH = getCookie("api_root", "/");\n\nwindow.mini_debugger = false;\n/**\n * 引入一个插件(js或者css)\n * @param path 插件路径\n * @param callback 加载完成回调,css不会执行回调\n */\nfunction importPlugin(path, callback) {\n    if (path.indexOf("http") != 0 || path.indexOf("//") != 0) {\n        path = window.BASE_PATH + path;\n    }\n    var head = document.getElementsByTagName(\'head\')[0];\n    if (path.indexOf("js") == path.length - 2) {\n        var script = document.createElement(\'script\');\n        script.type = \'text/javascript\';\n        script.charset = \'utf-8\';\n        script.timeout = 120000;\n        if (typeof callback != "undefined")\n            script.async = true;\n        script.src = path;\n        head.appendChild(script);\n        function onload() {\n            script.onerror = script.onload = undefined;\n            if (callback)callback();\n        }\n\n        script.onload = onload;\n        script.onerror = onload;\n\n    } else if (path.indexOf("css") == path.length - 3) {\n        var style = document.createElement(\'link\');\n        style.rel = "stylesheet";\n        style.href = path;\n        style.type = "text/css";\n        head.appendChild(style);\n    }\n}\n\n/**\n * 获取cooke\n * @param sName cookie名称\n * @param defaultVal 默认值\n * @returns {*} cookie值\n */\nfunction getCookie(sName, defaultVal) {\n    var aCookie = document.cookie.split("; ");\n    var lastMatch = null;\n    for (var i = 0; i < aCookie.length; i++) {\n        var aCrumb = aCookie[i].split("=");\n        if (sName == aCrumb[0]) {\n            lastMatch = aCrumb;\n        }\n    }\n    if (lastMatch) {\n        var v = lastMatch[1];\n        if (v === undefined) return v;\n        return unescape(v);\n    }\n    return defaultVal;\n}\nfunction loadMiniui(callback) {\n\n    var theme = getCookie("theme", window.miniui_theme ? window.miniui_theme : "pure");\n    var mode = getCookie("mode", "large");\n\n    function loadMini() {\n        importPlugin("plugins/miniui/themes/default/miniui.css");\n        importPlugin("plugins/miniui/themes/icons.css");\n        importPlugin(\'plugins/miniui/themes/\' + theme + \'/skin.css\');\n        importPlugin("plugins/miniui/themes/default/" + mode + "-mode.css");\n        importPlugin("plugins/miniui/miniui.js", callback);\n    }\n\n    if (!window.jQuery) {\n        importPlugin("plugins/jquery/jquery.min.js", loadMini);\n    } else {\n        loadMini();\n    }\n}\nfunction showTips(msg, state) {\n    mini.showTips({\n        content: msg,\n        state: state || \'success\',\n        x: \'center\',\n        y: \'top\',\n        timeout: 3000\n    });\n}\n/**\n * 打开窗口\n * @param url 窗口的URL\n * @param title 标题\n * @param width 宽度\n * @param height 高度\n * @param ondestroy 销毁时回调 , 打开的页面通过 boot.closeWindow(response) ;传递返回值. 通过回调参数获取.\n * @param onload 加载时毁掉 , 可通过 this.getIFrameEl(); 获取frame对象\n */\nfunction openWindow(url, title, width, height, ondestroy, onload) {\n    if (url.indexOf("http") != 0) {\n        if (url.indexOf("/") == 0)url = url.substr(1);\n        url = window.BASE_PATH + url;\n    }\n    mini.open({\n        url: url,\n        showMaxButton: true,\n        title: title,\n        width: width,\n        height: height,\n        maskOnLoad: false,\n        showModal: false,\n        onload: onload,\n        ondestroy: ondestroy\n    });\n}\n\nmodule.exports = {\n    /**\n     * 给表单绑定回车事件\n     * @param formEl 表单选择器,如:#search-box\n     * @param fun 回调\n     */\n    bindOnEnter: function (formEl, fun) {\n        var form = new mini.Form(formEl);\n        var fields = form.getFields();\n        for (var i = 0; i < fields.length; i++) {\n            var field = fields[i];\n            if (!field.onenter && field.on) {\n                field.on("enter", fun);\n            }\n        }\n    },\n    /**\n     * 查询表格\n     * @param formEL 查询条件表单选择器,如:#search-box\n     * @param grid 表格对象\n     */\n    searchGrid: function (formEL, grid) {\n        var param = new mini.Form(formEL).getData();\n        var request = __webpack_require__(1);\n        grid.load(request.encodeQueryParam(param));\n    },\n    /**\n     * 引入一个插件\n     */\n    importPlugin: importPlugin,\n    /**\n     * 引入miniui\n     */\n    loadMiniui: loadMiniui,\n    /**\n     * 打开窗口\n     */\n    openWindow: openWindow,\n    /**\n     * 显示消息提示\n     */\n    showTips: showTips,\n    /**\n     * 关闭窗口并返回数据\n     * @param data\n     * @returns {*}\n     */\n    closeWindow: function (data) {\n        if (window.CloseOwnerWindow) return window.CloseOwnerWindow(data);\n        else window.close();\n    },\n    showFormErrors: function (formEl, result) {\n        var errorMessage;\n        if (typeof result == \'string\') {\n            errorMessage = mini.decode(result);\n        } else {\n            errorMessage = result;\n        }\n        if (errorMessage) {\n            $(errorMessage).each(function () {\n                var field = mini.getbyName(this.field);\n                if (field) {\n                    field.setIsValid(false);\n                    field.setErrorText(this.message);\n                    field.focus();\n                }\n            });\n        }\n    },\n    /**\n     * 初始化表格对象,修改其默认配置,以适配后台api\n     * @param grid 表格对象\n     */\n    initGrid: function (grid) {\n        grid.setSortFieldField("sorts[0].name");\n        grid.setSortOrderField("sorts[0].dir");\n        //后台响应数据格式\n        grid.setDataField("result.data");\n        grid.setTotalField("result.total");\n        grid.allowAlternating = true;\n        //查询全部为GET\n        grid.setAjaxOptions({\n            type: "GET",\n            dataType: "json"\n        });\n        grid.un("loaderror",\n            function (e) {\n            });\n        // 解决弹出选择控件的bug\n        grid.on("cellbeginedit", function (e) {\n            if (e.editor && e.editor.type == "buttonedit") {\n                e.editor.setValue(e.value);\n                e.editor.setText(e.value);\n            }\n        });\n        //加载失败进行提示\n        grid.on("loaderror",\n            function (e) {\n                try {\n                    var res = mini.decode(e.xhr.responseText);\n                    if (res.status == 401) {\n                        if (window.doLogin) {\n                            window.doLogin(function () {\n                                grid.reload()\n                            });\n                        }\n                        else if (window.top.doLogin) {\n                            window.top.doLogin(function () {\n                                grid.reload()\n                            });\n                        }\n                        else {\n                            showTips("请登录", "danger");\n                        }\n\n                    } else if (res.status == 403) {\n                        showTips("权限不够", "danger");\n                    } else if (res.status == 500) {\n                        showTips("数据加载失败:" + res.message, "danger");\n                        if (window.console) {\n                            window.console.log(res.message);\n                        }\n                    } else {\n                        showTips("数据加载失败:" + res.message, "danger");\n                    }\n                } catch (e) {\n                    showTips("加载失败...");\n                }\n            });\n\n        var tip = new mini.ToolTip();\n        tip.set({\n            target: document,\n            selector: \'.action-button\'\n        });\n    },\n    createActionButton: function (title, icon, onclick) {\n        if (!window.action_countter)window.action_countter = 0;\n        var callId = "action_" + (++window.action_countter);\n        window[callId] = onclick;\n        return ["<span", " onclick=\'", callId, "()\'", " title=\'", title, "\'", " class=\'action-button ", icon, "\'", "></span>"].join("");\n    },\n    /**\n     * 显示加载中提示\n     * @param message 提示的消息\n     * @returns {{close: hide,hide:hide}} 关闭显示的回调,调用close和hide都可以\n     */\n    loading: function (message) {\n        mini.mask({\n            el: document.body,\n            cls: \'mini-mask-loading\',\n            html: message\n        });\n        function hide() {\n            mini.unmask(document.body);\n        }\n\n        return {\n            close: hide,\n            hide: hide\n        };\n    },\n    getCookie: getCookie,\n    getFormData: function (formEl, validate) {\n        var form = new mini.Form(formEl);\n        form.validate();\n        if (validate && form.isValid() == false) {\n            return;\n        }\n        return form.getData();\n    }\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYm9vdC5qcz9lN2UzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBLG1CQUFtQixvQkFBb0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsbUJBQW1CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHVCQUF1QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuQkFTRV9QQVRIID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX187XG53aW5kb3cuQVBJX0JBU0VfUEFUSCA9IGdldENvb2tpZShcImFwaV9yb290XCIsIFwiL1wiKTtcblxud2luZG93Lm1pbmlfZGVidWdnZXIgPSBmYWxzZTtcbi8qKlxuICog5byV5YWl5LiA5Liq5o+S5Lu2KGpz5oiW6ICFY3NzKVxuICogQHBhcmFtIHBhdGgg5o+S5Lu26Lev5b6EXG4gKiBAcGFyYW0gY2FsbGJhY2sg5Yqg6L295a6M5oiQ5Zue6LCDLGNzc+S4jeS8muaJp+ihjOWbnuiwg1xuICovXG5mdW5jdGlvbiBpbXBvcnRQbHVnaW4ocGF0aCwgY2FsbGJhY2spIHtcbiAgICBpZiAocGF0aC5pbmRleE9mKFwiaHR0cFwiKSAhPSAwIHx8IHBhdGguaW5kZXhPZihcIi8vXCIpICE9IDApIHtcbiAgICAgICAgcGF0aCA9IHdpbmRvdy5CQVNFX1BBVEggKyBwYXRoO1xuICAgIH1cbiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgaWYgKHBhdGguaW5kZXhPZihcImpzXCIpID09IHBhdGgubGVuZ3RoIC0gMikge1xuICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgICAgIHNjcmlwdC5jaGFyc2V0ID0gJ3V0Zi04JztcbiAgICAgICAgc2NyaXB0LnRpbWVvdXQgPSAxMjAwMDA7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgICAgIHNjcmlwdC5zcmMgPSBwYXRoO1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIGZ1bmN0aW9uIG9ubG9hZCgpIHtcbiAgICAgICAgICAgIHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjayljYWxsYmFjaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IG9ubG9hZDtcbiAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSBvbmxvYWQ7XG5cbiAgICB9IGVsc2UgaWYgKHBhdGguaW5kZXhPZihcImNzc1wiKSA9PSBwYXRoLmxlbmd0aCAtIDMpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgICBzdHlsZS5yZWwgPSBcInN0eWxlc2hlZXRcIjtcbiAgICAgICAgc3R5bGUuaHJlZiA9IHBhdGg7XG4gICAgICAgIHN0eWxlLnR5cGUgPSBcInRleHQvY3NzXCI7XG4gICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiDojrflj5Zjb29rZVxuICogQHBhcmFtIHNOYW1lIGNvb2tpZeWQjeensFxuICogQHBhcmFtIGRlZmF1bHRWYWwg6buY6K6k5YC8XG4gKiBAcmV0dXJucyB7Kn0gY29va2ll5YC8XG4gKi9cbmZ1bmN0aW9uIGdldENvb2tpZShzTmFtZSwgZGVmYXVsdFZhbCkge1xuICAgIHZhciBhQ29va2llID0gZG9jdW1lbnQuY29va2llLnNwbGl0KFwiOyBcIik7XG4gICAgdmFyIGxhc3RNYXRjaCA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhQ29va2llLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhQ3J1bWIgPSBhQ29va2llW2ldLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgaWYgKHNOYW1lID09IGFDcnVtYlswXSkge1xuICAgICAgICAgICAgbGFzdE1hdGNoID0gYUNydW1iO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChsYXN0TWF0Y2gpIHtcbiAgICAgICAgdmFyIHYgPSBsYXN0TWF0Y2hbMV07XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHJldHVybiB2O1xuICAgICAgICByZXR1cm4gdW5lc2NhcGUodik7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VmFsO1xufVxuZnVuY3Rpb24gbG9hZE1pbml1aShjYWxsYmFjaykge1xuXG4gICAgdmFyIHRoZW1lID0gZ2V0Q29va2llKFwidGhlbWVcIiwgd2luZG93Lm1pbml1aV90aGVtZSA/IHdpbmRvdy5taW5pdWlfdGhlbWUgOiBcInB1cmVcIik7XG4gICAgdmFyIG1vZGUgPSBnZXRDb29raWUoXCJtb2RlXCIsIFwibGFyZ2VcIik7XG5cbiAgICBmdW5jdGlvbiBsb2FkTWluaSgpIHtcbiAgICAgICAgaW1wb3J0UGx1Z2luKFwicGx1Z2lucy9taW5pdWkvdGhlbWVzL2RlZmF1bHQvbWluaXVpLmNzc1wiKTtcbiAgICAgICAgaW1wb3J0UGx1Z2luKFwicGx1Z2lucy9taW5pdWkvdGhlbWVzL2ljb25zLmNzc1wiKTtcbiAgICAgICAgaW1wb3J0UGx1Z2luKCdwbHVnaW5zL21pbml1aS90aGVtZXMvJyArIHRoZW1lICsgJy9za2luLmNzcycpO1xuICAgICAgICBpbXBvcnRQbHVnaW4oXCJwbHVnaW5zL21pbml1aS90aGVtZXMvZGVmYXVsdC9cIiArIG1vZGUgKyBcIi1tb2RlLmNzc1wiKTtcbiAgICAgICAgaW1wb3J0UGx1Z2luKFwicGx1Z2lucy9taW5pdWkvbWluaXVpLmpzXCIsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBpZiAoIXdpbmRvdy5qUXVlcnkpIHtcbiAgICAgICAgaW1wb3J0UGx1Z2luKFwicGx1Z2lucy9qcXVlcnkvanF1ZXJ5Lm1pbi5qc1wiLCBsb2FkTWluaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbG9hZE1pbmkoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzaG93VGlwcyhtc2csIHN0YXRlKSB7XG4gICAgbWluaS5zaG93VGlwcyh7XG4gICAgICAgIGNvbnRlbnQ6IG1zZyxcbiAgICAgICAgc3RhdGU6IHN0YXRlIHx8ICdzdWNjZXNzJyxcbiAgICAgICAgeDogJ2NlbnRlcicsXG4gICAgICAgIHk6ICd0b3AnLFxuICAgICAgICB0aW1lb3V0OiAzMDAwXG4gICAgfSk7XG59XG4vKipcbiAqIOaJk+W8gOeql+WPo1xuICogQHBhcmFtIHVybCDnqpflj6PnmoRVUkxcbiAqIEBwYXJhbSB0aXRsZSDmoIfpophcbiAqIEBwYXJhbSB3aWR0aCDlrr3luqZcbiAqIEBwYXJhbSBoZWlnaHQg6auY5bqmXG4gKiBAcGFyYW0gb25kZXN0cm95IOmUgOavgeaXtuWbnuiwgyAsIOaJk+W8gOeahOmhtemdoumAmui/hyBib290LmNsb3NlV2luZG93KHJlc3BvbnNlKSA75Lyg6YCS6L+U5Zue5YC8LiDpgJrov4flm57osIPlj4LmlbDojrflj5YuXG4gKiBAcGFyYW0gb25sb2FkIOWKoOi9veaXtuavgeaOiSAsIOWPr+mAmui/hyB0aGlzLmdldElGcmFtZUVsKCk7IOiOt+WPlmZyYW1l5a+56LGhXG4gKi9cbmZ1bmN0aW9uIG9wZW5XaW5kb3codXJsLCB0aXRsZSwgd2lkdGgsIGhlaWdodCwgb25kZXN0cm95LCBvbmxvYWQpIHtcbiAgICBpZiAodXJsLmluZGV4T2YoXCJodHRwXCIpICE9IDApIHtcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKFwiL1wiKSA9PSAwKXVybCA9IHVybC5zdWJzdHIoMSk7XG4gICAgICAgIHVybCA9IHdpbmRvdy5CQVNFX1BBVEggKyB1cmw7XG4gICAgfVxuICAgIG1pbmkub3Blbih7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBzaG93TWF4QnV0dG9uOiB0cnVlLFxuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIG1hc2tPbkxvYWQ6IGZhbHNlLFxuICAgICAgICBzaG93TW9kYWw6IGZhbHNlLFxuICAgICAgICBvbmxvYWQ6IG9ubG9hZCxcbiAgICAgICAgb25kZXN0cm95OiBvbmRlc3Ryb3lcbiAgICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgLyoqXG4gICAgICog57uZ6KGo5Y2V57uR5a6a5Zue6L2m5LqL5Lu2XG4gICAgICogQHBhcmFtIGZvcm1FbCDooajljZXpgInmi6nlmags5aaCOiNzZWFyY2gtYm94XG4gICAgICogQHBhcmFtIGZ1biDlm57osINcbiAgICAgKi9cbiAgICBiaW5kT25FbnRlcjogZnVuY3Rpb24gKGZvcm1FbCwgZnVuKSB7XG4gICAgICAgIHZhciBmb3JtID0gbmV3IG1pbmkuRm9ybShmb3JtRWwpO1xuICAgICAgICB2YXIgZmllbGRzID0gZm9ybS5nZXRGaWVsZHMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmaWVsZCA9IGZpZWxkc1tpXTtcbiAgICAgICAgICAgIGlmICghZmllbGQub25lbnRlciAmJiBmaWVsZC5vbikge1xuICAgICAgICAgICAgICAgIGZpZWxkLm9uKFwiZW50ZXJcIiwgZnVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICog5p+l6K+i6KGo5qC8XG4gICAgICogQHBhcmFtIGZvcm1FTCDmn6Xor6LmnaHku7booajljZXpgInmi6nlmags5aaCOiNzZWFyY2gtYm94XG4gICAgICogQHBhcmFtIGdyaWQg6KGo5qC85a+56LGhXG4gICAgICovXG4gICAgc2VhcmNoR3JpZDogZnVuY3Rpb24gKGZvcm1FTCwgZ3JpZCkge1xuICAgICAgICB2YXIgcGFyYW0gPSBuZXcgbWluaS5Gb3JtKGZvcm1FTCkuZ2V0RGF0YSgpO1xuICAgICAgICB2YXIgcmVxdWVzdCA9IHJlcXVpcmUoXCJyZXF1ZXN0XCIpO1xuICAgICAgICBncmlkLmxvYWQocmVxdWVzdC5lbmNvZGVRdWVyeVBhcmFtKHBhcmFtKSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDlvJXlhaXkuIDkuKrmj5Lku7ZcbiAgICAgKi9cbiAgICBpbXBvcnRQbHVnaW46IGltcG9ydFBsdWdpbixcbiAgICAvKipcbiAgICAgKiDlvJXlhaVtaW5pdWlcbiAgICAgKi9cbiAgICBsb2FkTWluaXVpOiBsb2FkTWluaXVpLFxuICAgIC8qKlxuICAgICAqIOaJk+W8gOeql+WPo1xuICAgICAqL1xuICAgIG9wZW5XaW5kb3c6IG9wZW5XaW5kb3csXG4gICAgLyoqXG4gICAgICog5pi+56S65raI5oGv5o+Q56S6XG4gICAgICovXG4gICAgc2hvd1RpcHM6IHNob3dUaXBzLFxuICAgIC8qKlxuICAgICAqIOWFs+mXreeql+WPo+W5tui/lOWbnuaVsOaNrlxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgY2xvc2VXaW5kb3c6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmICh3aW5kb3cuQ2xvc2VPd25lcldpbmRvdykgcmV0dXJuIHdpbmRvdy5DbG9zZU93bmVyV2luZG93KGRhdGEpO1xuICAgICAgICBlbHNlIHdpbmRvdy5jbG9zZSgpO1xuICAgIH0sXG4gICAgc2hvd0Zvcm1FcnJvcnM6IGZ1bmN0aW9uIChmb3JtRWwsIHJlc3VsdCkge1xuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gbWluaS5kZWNvZGUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICAkKGVycm9yTWVzc2FnZSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gbWluaS5nZXRieU5hbWUodGhpcy5maWVsZCk7XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLnNldElzVmFsaWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBmaWVsZC5zZXRFcnJvclRleHQodGhpcy5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICog5Yid5aeL5YyW6KGo5qC85a+56LGhLOS/ruaUueWFtum7mOiupOmFjee9rizku6XpgILphY3lkI7lj7BhcGlcbiAgICAgKiBAcGFyYW0gZ3JpZCDooajmoLzlr7nosaFcbiAgICAgKi9cbiAgICBpbml0R3JpZDogZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgZ3JpZC5zZXRTb3J0RmllbGRGaWVsZChcInNvcnRzWzBdLm5hbWVcIik7XG4gICAgICAgIGdyaWQuc2V0U29ydE9yZGVyRmllbGQoXCJzb3J0c1swXS5kaXJcIik7XG4gICAgICAgIC8v5ZCO5Y+w5ZON5bqU5pWw5o2u5qC85byPXG4gICAgICAgIGdyaWQuc2V0RGF0YUZpZWxkKFwicmVzdWx0LmRhdGFcIik7XG4gICAgICAgIGdyaWQuc2V0VG90YWxGaWVsZChcInJlc3VsdC50b3RhbFwiKTtcbiAgICAgICAgZ3JpZC5hbGxvd0FsdGVybmF0aW5nID0gdHJ1ZTtcbiAgICAgICAgLy/mn6Xor6Llhajpg6jkuLpHRVRcbiAgICAgICAgZ3JpZC5zZXRBamF4T3B0aW9ucyh7XG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiXG4gICAgICAgIH0pO1xuICAgICAgICBncmlkLnVuKFwibG9hZGVycm9yXCIsXG4gICAgICAgICAgICBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIC8vIOino+WGs+W8ueWHuumAieaLqeaOp+S7tueahGJ1Z1xuICAgICAgICBncmlkLm9uKFwiY2VsbGJlZ2luZWRpdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUuZWRpdG9yICYmIGUuZWRpdG9yLnR5cGUgPT0gXCJidXR0b25lZGl0XCIpIHtcbiAgICAgICAgICAgICAgICBlLmVkaXRvci5zZXRWYWx1ZShlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBlLmVkaXRvci5zZXRUZXh0KGUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy/liqDovb3lpLHotKXov5vooYzmj5DnpLpcbiAgICAgICAgZ3JpZC5vbihcImxvYWRlcnJvclwiLFxuICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gbWluaS5kZWNvZGUoZS54aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmRvTG9naW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9Mb2dpbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWQucmVsb2FkKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHdpbmRvdy50b3AuZG9Mb2dpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy50b3AuZG9Mb2dpbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWQucmVsb2FkKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKFwi6K+355m75b2VXCIsIFwiZGFuZ2VyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA9PSA0MDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKFwi5p2D6ZmQ5LiN5aSfXCIsIFwiZGFuZ2VyXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT0gNTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhcIuaVsOaNruWKoOi9veWksei0pTpcIiArIHJlcy5tZXNzYWdlLCBcImRhbmdlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXMubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcyhcIuaVsOaNruWKoOi9veWksei0pTpcIiArIHJlcy5tZXNzYWdlLCBcImRhbmdlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RpcHMoXCLliqDovb3lpLHotKUuLi5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHRpcCA9IG5ldyBtaW5pLlRvb2xUaXAoKTtcbiAgICAgICAgdGlwLnNldCh7XG4gICAgICAgICAgICB0YXJnZXQ6IGRvY3VtZW50LFxuICAgICAgICAgICAgc2VsZWN0b3I6ICcuYWN0aW9uLWJ1dHRvbidcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBjcmVhdGVBY3Rpb25CdXR0b246IGZ1bmN0aW9uICh0aXRsZSwgaWNvbiwgb25jbGljaykge1xuICAgICAgICBpZiAoIXdpbmRvdy5hY3Rpb25fY291bnR0ZXIpd2luZG93LmFjdGlvbl9jb3VudHRlciA9IDA7XG4gICAgICAgIHZhciBjYWxsSWQgPSBcImFjdGlvbl9cIiArICgrK3dpbmRvdy5hY3Rpb25fY291bnR0ZXIpO1xuICAgICAgICB3aW5kb3dbY2FsbElkXSA9IG9uY2xpY2s7XG4gICAgICAgIHJldHVybiBbXCI8c3BhblwiLCBcIiBvbmNsaWNrPSdcIiwgY2FsbElkLCBcIigpJ1wiLCBcIiB0aXRsZT0nXCIsIHRpdGxlLCBcIidcIiwgXCIgY2xhc3M9J2FjdGlvbi1idXR0b24gXCIsIGljb24sIFwiJ1wiLCBcIj48L3NwYW4+XCJdLmpvaW4oXCJcIik7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDmmL7npLrliqDovb3kuK3mj5DnpLpcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSDmj5DnpLrnmoTmtojmga9cbiAgICAgKiBAcmV0dXJucyB7e2Nsb3NlOiBoaWRlLGhpZGU6aGlkZX19IOWFs+mXreaYvuekuueahOWbnuiwgyzosIPnlKhjbG9zZeWSjGhpZGXpg73lj6/ku6VcbiAgICAgKi9cbiAgICBsb2FkaW5nOiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBtaW5pLm1hc2soe1xuICAgICAgICAgICAgZWw6IGRvY3VtZW50LmJvZHksXG4gICAgICAgICAgICBjbHM6ICdtaW5pLW1hc2stbG9hZGluZycsXG4gICAgICAgICAgICBodG1sOiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgICAgICAgbWluaS51bm1hc2soZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2xvc2U6IGhpZGUsXG4gICAgICAgICAgICBoaWRlOiBoaWRlXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBnZXRDb29raWU6IGdldENvb2tpZSxcbiAgICBnZXRGb3JtRGF0YTogZnVuY3Rpb24gKGZvcm1FbCwgdmFsaWRhdGUpIHtcbiAgICAgICAgdmFyIGZvcm0gPSBuZXcgbWluaS5Gb3JtKGZvcm1FbCk7XG4gICAgICAgIGZvcm0udmFsaWRhdGUoKTtcbiAgICAgICAgaWYgKHZhbGlkYXRlICYmIGZvcm0uaXNWYWxpZCgpID09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm0uZ2V0RGF0YSgpO1xuICAgIH1cbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9ib290LmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSAxMiAxMyAxNCAxNSJdLCJzb3VyY2VSb290IjoiIn0=')},17:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('Object.defineProperty(__webpack_exports__, "__esModule", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_boot__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_boot___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_boot__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_request__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_request___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_request__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_common_common_css__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_common_common_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_common_common_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__index_css__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__index_css__);\n\n\n\n\n\n\nvar menuData = [];\nvar menuMap = {};\nvar permissionData = [];\nvar permissions = {};\n\n__WEBPACK_IMPORTED_MODULE_0_boot___default.a.loadMiniui(function () {\n    mini.parse();\n    var grid = window.grid = mini.get("menu-grid");\n    __WEBPACK_IMPORTED_MODULE_0_boot___default.a.initGrid(grid);\n\n    var tree = window.tree = mini.get("group-tree");\n    tree.setAjaxType("GET");\n    tree.setDataField("result.data");\n    tree.setUrl(API_BASE_PATH + "menu-group?paging=false");\n\n    __WEBPACK_IMPORTED_MODULE_1_request___default.a.get("menu", {paging: false}, function (res) {\n        if (res.status == 200) {\n            menuData = res.result.data;\n            $(menuData).each(function () {\n                menuMap[this.id] = this;\n            });\n            grid.loadList(menuData);\n        } else {\n            __WEBPACK_IMPORTED_MODULE_0_boot___default.a.showTips(res.message);\n        }\n    });\n    __WEBPACK_IMPORTED_MODULE_1_request___default.a.get("permission", {paging: false}, function (res) {\n        if (res.status == 200) {\n            permissionData = res.result.data;\n            $(permissionData).each(function () {\n                permissions[this.id] = this;\n                var actionMap = this.actionsMap = {};\n                $(this.actions).each(function () {\n                    actionMap[this.action] = this;\n                });\n            });\n        } else {\n            __WEBPACK_IMPORTED_MODULE_0_boot___default.a.showTips(res.message);\n        }\n    });\n\n    $(".search-button").on("click", function () {\n        var keyword = mini.getbyName("keyword").getValue();\n        var param = {};\n        if (keyword && keyword.length > 0) {\n            param = __WEBPACK_IMPORTED_MODULE_1_request___default.a.createQuery().where()\n                .like("name", "%" + keyword + "%")\n                .getParams();\n        }\n        grid.load(param);\n    });\n\n    $(".add-root-group").on("click", function () {\n        var node = {name: "新建分组"};\n        tree.addNode(node);\n        tree.selectNode(node);\n    });\n\n    tree.on("nodeselect", function (e) {\n        var node = e.node;\n        window.nowEditNode = node;\n        if (node) {\n            new mini.Form("#basic-info").setData(node);\n            if (node.bindInfo) {\n                var bindInfo = mini.clone(node.bindInfo);\n                $(bindInfo).each(function () {\n                    this.menu = menuMap[this.menuId];\n                    if (this.menu) {\n                        this.icon = this.menu.icon;\n                        this.permission = permissions[this.menu.permissionId];\n                    }\n                });\n                mini.get("menu-group-grid").loadList(bindInfo);\n            }\n        }\n    });\n\n    bindSaveAction();\n    initActionsEditor(mini.get("menu-group-grid"));\n\n    $(".data-access-edit-ok").on("click", function () {\n        window.onDataAccessEditAfter();\n    });\n});\n\nfunction bindSaveAction() {\n    $(".save-group").on("click", function () {\n        var data = __WEBPACK_IMPORTED_MODULE_0_boot___default.a.getFormData("#basic-info");\n        var bindInfo = mini.clone(mini.get("menu-group-grid").getData());\n        data.bindInfo = bindInfo;\n        var api = "menu-group";\n        __WEBPACK_IMPORTED_MODULE_1_request___default.a.patch(api, data, function (res) {\n            if (res.status == 200) {\n                __WEBPACK_IMPORTED_MODULE_0_boot___default.a.showTips("保存成功");\n            } else {\n                __WEBPACK_IMPORTED_MODULE_0_boot___default.a.showTips(res.message, "danger");\n            }\n        });\n    });\n}\n\nwindow.onBeforeOpen = function (e) {\n    var menu = e.sender;\n    var node = tree.getSelectedNode();\n\n    //e.cancel = true;\n    e.htmlEvent.preventDefault();\n\n}\n\nwindow.renderOperationAction = function (e) {\n    if (!e.value)return "";\n    var row = e.record;\n    var strVal = e.value + "";\n    var arr = strVal.split(",");\n    var text = [];\n    var permission = row.permission;\n    if (permission) {\n        var actionMap = permission.actionsMap;\n        if (!actionMap) {\n            permission.actionsMap = actionMap = {};\n            $(permission.actions).each(function () {\n                actionMap[this.action] = this;\n            });\n        }\n        $(arr).each(function () {\n            text.push(actionMap[this] ? (actionMap[this].describe ? actionMap[this].describe : actionMap[this].action) : this);\n        });\n    }\n    return text.join(",");\n}\nwindow.renderFields = function (e) {\n    if (!e.value)return "";\n    var strVal = e.value + "";\n    var arr = strVal.split(",");\n    var text = [];\n    var permission = window.nowSelectPermission;\n    if (permission) {\n        var fieldsMap = permission.fieldsMap;\n        if (!fieldsMap) {\n            permission.fieldsMap = fieldsMap = {};\n            $(permission.optionalFields).each(function () {\n                fieldsMap[this.name] = this;\n            });\n        }\n        $(arr).each(function () {\n            text.push(fieldsMap[this] ? (fieldsMap[this].describe ? fieldsMap[this].describe : fieldsMap[this].name) : this);\n        });\n    }\n    return text.join(",");\n}\nwindow.renderDataAccess = function (e) {\n    var text = [];\n    $(e.value).each(function () {\n        text.push(this.describe ? this.describe : this.type);\n    });\n    return text.join(",");\n};\nwindow.renderMenuAction = function (e) {\n    var html = [];\n    var row = e.record;\n\n    html.push(__WEBPACK_IMPORTED_MODULE_0_boot___default.a.createActionButton("添加到分组", "icon-arrow-left", function () {\n        var groupGrid = mini.get("menu-group-grid");\n        groupGrid.addNode({\n            permission: permissions[row.permissionId],\n            menuId: row.id,\n            icon: row.icon,\n            menu: mini.clone(row)\n        });\n    }));\n\n    return html.join("");\n}\n\nfunction initActionsEditor(grid) {\n    grid.on("cellbeginedit", function (e) {\n        var row = e.record;\n        var permission = row.permission;\n        if (!permission) {\n            __WEBPACK_IMPORTED_MODULE_0_boot___default.a.showTips("此菜单无权限信息");\n            return;\n        }\n        window.deny_fields_data = permission ? permission.actions : [];\n        window.nowSelectPermission = permission;\n        if (e.field == "actions") {\n            mini.get("actionsBox").setData(window.deny_fields_data);\n        }\n        if (e.field == "dataAccesses") {\n            if (!row.actions) {\n                __WEBPACK_IMPORTED_MODULE_0_boot___default.a.showTips("请先设置可操作类型!");\n                return;\n            }\n            var own_create_html = {};\n\n            window.deny_option_fields = [];\n            $((row.actions + "").split(",")).each(function () {\n                var action = permission.actionsMap[this];\n                if (!action)return;\n                own_create_html[this] = $("<span style=\'cursor: pointer\'></span>");\n                var box = $("<input type=\'checkbox\' name=\'own_create_box\'>").val(this)\n                    .attr("describe", action.describe ? ("只能" + action.describe + "自己创建的数据") : "");\n                own_create_html[this]\n                    .append(box)\n                    .append(\n                        $("<span>")\n                            .text(action.describe ? action.describe : action.action)\n                            .on("click", function () {\n                                box.prop("checked", !box.prop("checked"))\n                            }));\n                window.deny_option_fields.push({\n                    action: this,\n                    describe: action.describe ? action.describe : action.action\n                });\n            });\n\n            window.permission_actions = permission ? permission.optionalFields : [];\n\n            if (mini.get("denyOptionAction"))\n                mini.get("denyOptionAction").setData(window.deny_option_fields);\n            if (mini.get("denyActionsBox"))\n                mini.get("denyActionsBox").setData(permission_actions);\n            if (mini.get("denyFieldsBox"))\n                mini.get("denyFieldsBox").setData(window.deny_fields_data);\n\n            var gridData = [];\n\n            $(mini.clone(row.dataAccesses)).each(function () {\n                if (this.type == "DENY_FIELDS") {\n                    this.config = mini.decode(this.config);\n                    this.config.fields = this.config.fields + "";\n                    this.permissionId = row.permissionId;\n                    gridData.push(this);\n                }\n                if (this.type == "OWN_CREATED") {\n                    if (own_create_html[this.action]) {\n                        own_create_html[this.action].find("input").prop("checked", true);\n                    }\n                }\n            });\n            $(\'.action_box\').html("");\n            for (var action in own_create_html) {\n                $(\'.action_box\').each(function () {\n                    $(this).append(own_create_html[action].clone());\n                });\n            }\n            mini.get("deny_fields_grid").setData(gridData);\n\n            window.onDataAccessEditAfter = function () {\n                var all_config = [];\n                $("[name=own_create_box]:checked").each(function () {\n                    all_config.push({describe: $(this).attr("describe"), action: $(this).val(), type: "OWN_CREATED"});\n                });\n                var deny_fields = mini.clone(mini.get("deny_fields_grid").getData());\n                $(deny_fields).each(function () {\n                    this.type = "DENY_FIELDS";\n                    this.config = mini.encode(this.config);\n                    if (this.action) {\n                        all_config.push(this);\n                    }\n                });\n                grid.updateRow(row, {dataAccesses: all_config});\n                mini.get("dataAccessWindow").hide();\n            }\n            mini.get("dataAccessWindow").show();\n        }\n    });\n    grid.on("cellcommitedit", function (e) {\n        var record = e.record;\n    });\n}\n\nwindow.renderBindInfoAction = function (e) {\n    var html = [];\n    var row = e.record;\n    html.push(__WEBPACK_IMPORTED_MODULE_0_boot___default.a.createActionButton("删除", "icon-remove", function () {\n        mini.get("menu-group-grid").removeNode(row);\n    }));\n    return html.join("");\n}\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWVudS1ncm91cC9pbmRleC5qcz8zN2ZmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBeUIsY0FBYztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMLHVFQUErQixjQUFjO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsK0VBQStFO0FBQ3BILGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixxQ0FBcUMseUJBQXlCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwiZmlsZSI6IjE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJvb3QgZnJvbSBcImJvb3RcIjtcbmltcG9ydCByZXF1ZXN0IGZyb20gXCJyZXF1ZXN0XCI7XG5cbmltcG9ydCBcImNvbW1vbi9jb21tb24uY3NzXCI7XG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuXG52YXIgbWVudURhdGEgPSBbXTtcbnZhciBtZW51TWFwID0ge307XG52YXIgcGVybWlzc2lvbkRhdGEgPSBbXTtcbnZhciBwZXJtaXNzaW9ucyA9IHt9O1xuXG5ib290LmxvYWRNaW5pdWkoZnVuY3Rpb24gKCkge1xuICAgIG1pbmkucGFyc2UoKTtcbiAgICB2YXIgZ3JpZCA9IHdpbmRvdy5ncmlkID0gbWluaS5nZXQoXCJtZW51LWdyaWRcIik7XG4gICAgYm9vdC5pbml0R3JpZChncmlkKTtcblxuICAgIHZhciB0cmVlID0gd2luZG93LnRyZWUgPSBtaW5pLmdldChcImdyb3VwLXRyZWVcIik7XG4gICAgdHJlZS5zZXRBamF4VHlwZShcIkdFVFwiKTtcbiAgICB0cmVlLnNldERhdGFGaWVsZChcInJlc3VsdC5kYXRhXCIpO1xuICAgIHRyZWUuc2V0VXJsKEFQSV9CQVNFX1BBVEggKyBcIm1lbnUtZ3JvdXA/cGFnaW5nPWZhbHNlXCIpO1xuXG4gICAgcmVxdWVzdC5nZXQoXCJtZW51XCIsIHtwYWdpbmc6IGZhbHNlfSwgZnVuY3Rpb24gKHJlcykge1xuICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgIG1lbnVEYXRhID0gcmVzLnJlc3VsdC5kYXRhO1xuICAgICAgICAgICAgJChtZW51RGF0YSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbWVudU1hcFt0aGlzLmlkXSA9IHRoaXM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdyaWQubG9hZExpc3QobWVudURhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm9vdC5zaG93VGlwcyhyZXMubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXF1ZXN0LmdldChcInBlcm1pc3Npb25cIiwge3BhZ2luZzogZmFsc2V9LCBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgcGVybWlzc2lvbkRhdGEgPSByZXMucmVzdWx0LmRhdGE7XG4gICAgICAgICAgICAkKHBlcm1pc3Npb25EYXRhKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uc1t0aGlzLmlkXSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbk1hcCA9IHRoaXMuYWN0aW9uc01hcCA9IHt9O1xuICAgICAgICAgICAgICAgICQodGhpcy5hY3Rpb25zKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uTWFwW3RoaXMuYWN0aW9uXSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvb3Quc2hvd1RpcHMocmVzLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKFwiLnNlYXJjaC1idXR0b25cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBrZXl3b3JkID0gbWluaS5nZXRieU5hbWUoXCJrZXl3b3JkXCIpLmdldFZhbHVlKCk7XG4gICAgICAgIHZhciBwYXJhbSA9IHt9O1xuICAgICAgICBpZiAoa2V5d29yZCAmJiBrZXl3b3JkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHBhcmFtID0gcmVxdWVzdC5jcmVhdGVRdWVyeSgpLndoZXJlKClcbiAgICAgICAgICAgICAgICAubGlrZShcIm5hbWVcIiwgXCIlXCIgKyBrZXl3b3JkICsgXCIlXCIpXG4gICAgICAgICAgICAgICAgLmdldFBhcmFtcygpO1xuICAgICAgICB9XG4gICAgICAgIGdyaWQubG9hZChwYXJhbSk7XG4gICAgfSk7XG5cbiAgICAkKFwiLmFkZC1yb290LWdyb3VwXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZSA9IHtuYW1lOiBcIuaWsOW7uuWIhue7hFwifTtcbiAgICAgICAgdHJlZS5hZGROb2RlKG5vZGUpO1xuICAgICAgICB0cmVlLnNlbGVjdE5vZGUobm9kZSk7XG4gICAgfSk7XG5cbiAgICB0cmVlLm9uKFwibm9kZXNlbGVjdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgbm9kZSA9IGUubm9kZTtcbiAgICAgICAgd2luZG93Lm5vd0VkaXROb2RlID0gbm9kZTtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIG5ldyBtaW5pLkZvcm0oXCIjYmFzaWMtaW5mb1wiKS5zZXREYXRhKG5vZGUpO1xuICAgICAgICAgICAgaWYgKG5vZGUuYmluZEluZm8pIHtcbiAgICAgICAgICAgICAgICB2YXIgYmluZEluZm8gPSBtaW5pLmNsb25lKG5vZGUuYmluZEluZm8pO1xuICAgICAgICAgICAgICAgICQoYmluZEluZm8pLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbnUgPSBtZW51TWFwW3RoaXMubWVudUlkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVudSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pY29uID0gdGhpcy5tZW51Lmljb247XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlcm1pc3Npb24gPSBwZXJtaXNzaW9uc1t0aGlzLm1lbnUucGVybWlzc2lvbklkXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1pbmkuZ2V0KFwibWVudS1ncm91cC1ncmlkXCIpLmxvYWRMaXN0KGJpbmRJbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYmluZFNhdmVBY3Rpb24oKTtcbiAgICBpbml0QWN0aW9uc0VkaXRvcihtaW5pLmdldChcIm1lbnUtZ3JvdXAtZ3JpZFwiKSk7XG5cbiAgICAkKFwiLmRhdGEtYWNjZXNzLWVkaXQtb2tcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5vbkRhdGFBY2Nlc3NFZGl0QWZ0ZXIoKTtcbiAgICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBiaW5kU2F2ZUFjdGlvbigpIHtcbiAgICAkKFwiLnNhdmUtZ3JvdXBcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhID0gYm9vdC5nZXRGb3JtRGF0YShcIiNiYXNpYy1pbmZvXCIpO1xuICAgICAgICB2YXIgYmluZEluZm8gPSBtaW5pLmNsb25lKG1pbmkuZ2V0KFwibWVudS1ncm91cC1ncmlkXCIpLmdldERhdGEoKSk7XG4gICAgICAgIGRhdGEuYmluZEluZm8gPSBiaW5kSW5mbztcbiAgICAgICAgdmFyIGFwaSA9IFwibWVudS1ncm91cFwiO1xuICAgICAgICByZXF1ZXN0LnBhdGNoKGFwaSwgZGF0YSwgZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgYm9vdC5zaG93VGlwcyhcIuS/neWtmOaIkOWKn1wiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYm9vdC5zaG93VGlwcyhyZXMubWVzc2FnZSwgXCJkYW5nZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG53aW5kb3cub25CZWZvcmVPcGVuID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgbWVudSA9IGUuc2VuZGVyO1xuICAgIHZhciBub2RlID0gdHJlZS5nZXRTZWxlY3RlZE5vZGUoKTtcblxuICAgIC8vZS5jYW5jZWwgPSB0cnVlO1xuICAgIGUuaHRtbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbn1cblxud2luZG93LnJlbmRlck9wZXJhdGlvbkFjdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCFlLnZhbHVlKXJldHVybiBcIlwiO1xuICAgIHZhciByb3cgPSBlLnJlY29yZDtcbiAgICB2YXIgc3RyVmFsID0gZS52YWx1ZSArIFwiXCI7XG4gICAgdmFyIGFyciA9IHN0clZhbC5zcGxpdChcIixcIik7XG4gICAgdmFyIHRleHQgPSBbXTtcbiAgICB2YXIgcGVybWlzc2lvbiA9IHJvdy5wZXJtaXNzaW9uO1xuICAgIGlmIChwZXJtaXNzaW9uKSB7XG4gICAgICAgIHZhciBhY3Rpb25NYXAgPSBwZXJtaXNzaW9uLmFjdGlvbnNNYXA7XG4gICAgICAgIGlmICghYWN0aW9uTWFwKSB7XG4gICAgICAgICAgICBwZXJtaXNzaW9uLmFjdGlvbnNNYXAgPSBhY3Rpb25NYXAgPSB7fTtcbiAgICAgICAgICAgICQocGVybWlzc2lvbi5hY3Rpb25zKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25NYXBbdGhpcy5hY3Rpb25dID0gdGhpcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICQoYXJyKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRleHQucHVzaChhY3Rpb25NYXBbdGhpc10gPyAoYWN0aW9uTWFwW3RoaXNdLmRlc2NyaWJlID8gYWN0aW9uTWFwW3RoaXNdLmRlc2NyaWJlIDogYWN0aW9uTWFwW3RoaXNdLmFjdGlvbikgOiB0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0LmpvaW4oXCIsXCIpO1xufVxud2luZG93LnJlbmRlckZpZWxkcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCFlLnZhbHVlKXJldHVybiBcIlwiO1xuICAgIHZhciBzdHJWYWwgPSBlLnZhbHVlICsgXCJcIjtcbiAgICB2YXIgYXJyID0gc3RyVmFsLnNwbGl0KFwiLFwiKTtcbiAgICB2YXIgdGV4dCA9IFtdO1xuICAgIHZhciBwZXJtaXNzaW9uID0gd2luZG93Lm5vd1NlbGVjdFBlcm1pc3Npb247XG4gICAgaWYgKHBlcm1pc3Npb24pIHtcbiAgICAgICAgdmFyIGZpZWxkc01hcCA9IHBlcm1pc3Npb24uZmllbGRzTWFwO1xuICAgICAgICBpZiAoIWZpZWxkc01hcCkge1xuICAgICAgICAgICAgcGVybWlzc2lvbi5maWVsZHNNYXAgPSBmaWVsZHNNYXAgPSB7fTtcbiAgICAgICAgICAgICQocGVybWlzc2lvbi5vcHRpb25hbEZpZWxkcykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZmllbGRzTWFwW3RoaXMubmFtZV0gPSB0aGlzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgJChhcnIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGV4dC5wdXNoKGZpZWxkc01hcFt0aGlzXSA/IChmaWVsZHNNYXBbdGhpc10uZGVzY3JpYmUgPyBmaWVsZHNNYXBbdGhpc10uZGVzY3JpYmUgOiBmaWVsZHNNYXBbdGhpc10ubmFtZSkgOiB0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0LmpvaW4oXCIsXCIpO1xufVxud2luZG93LnJlbmRlckRhdGFBY2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciB0ZXh0ID0gW107XG4gICAgJChlLnZhbHVlKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGV4dC5wdXNoKHRoaXMuZGVzY3JpYmUgPyB0aGlzLmRlc2NyaWJlIDogdGhpcy50eXBlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGV4dC5qb2luKFwiLFwiKTtcbn07XG53aW5kb3cucmVuZGVyTWVudUFjdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGh0bWwgPSBbXTtcbiAgICB2YXIgcm93ID0gZS5yZWNvcmQ7XG5cbiAgICBodG1sLnB1c2goYm9vdC5jcmVhdGVBY3Rpb25CdXR0b24oXCLmt7vliqDliLDliIbnu4RcIiwgXCJpY29uLWFycm93LWxlZnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ3JvdXBHcmlkID0gbWluaS5nZXQoXCJtZW51LWdyb3VwLWdyaWRcIik7XG4gICAgICAgIGdyb3VwR3JpZC5hZGROb2RlKHtcbiAgICAgICAgICAgIHBlcm1pc3Npb246IHBlcm1pc3Npb25zW3Jvdy5wZXJtaXNzaW9uSWRdLFxuICAgICAgICAgICAgbWVudUlkOiByb3cuaWQsXG4gICAgICAgICAgICBpY29uOiByb3cuaWNvbixcbiAgICAgICAgICAgIG1lbnU6IG1pbmkuY2xvbmUocm93KVxuICAgICAgICB9KTtcbiAgICB9KSk7XG5cbiAgICByZXR1cm4gaHRtbC5qb2luKFwiXCIpO1xufVxuXG5mdW5jdGlvbiBpbml0QWN0aW9uc0VkaXRvcihncmlkKSB7XG4gICAgZ3JpZC5vbihcImNlbGxiZWdpbmVkaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHJvdyA9IGUucmVjb3JkO1xuICAgICAgICB2YXIgcGVybWlzc2lvbiA9IHJvdy5wZXJtaXNzaW9uO1xuICAgICAgICBpZiAoIXBlcm1pc3Npb24pIHtcbiAgICAgICAgICAgIGJvb3Quc2hvd1RpcHMoXCLmraToj5zljZXml6DmnYPpmZDkv6Hmga9cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93LmRlbnlfZmllbGRzX2RhdGEgPSBwZXJtaXNzaW9uID8gcGVybWlzc2lvbi5hY3Rpb25zIDogW107XG4gICAgICAgIHdpbmRvdy5ub3dTZWxlY3RQZXJtaXNzaW9uID0gcGVybWlzc2lvbjtcbiAgICAgICAgaWYgKGUuZmllbGQgPT0gXCJhY3Rpb25zXCIpIHtcbiAgICAgICAgICAgIG1pbmkuZ2V0KFwiYWN0aW9uc0JveFwiKS5zZXREYXRhKHdpbmRvdy5kZW55X2ZpZWxkc19kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS5maWVsZCA9PSBcImRhdGFBY2Nlc3Nlc1wiKSB7XG4gICAgICAgICAgICBpZiAoIXJvdy5hY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgYm9vdC5zaG93VGlwcyhcIuivt+WFiOiuvue9ruWPr+aTjeS9nOexu+WeiyFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG93bl9jcmVhdGVfaHRtbCA9IHt9O1xuXG4gICAgICAgICAgICB3aW5kb3cuZGVueV9vcHRpb25fZmllbGRzID0gW107XG4gICAgICAgICAgICAkKChyb3cuYWN0aW9ucyArIFwiXCIpLnNwbGl0KFwiLFwiKSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IHBlcm1pc3Npb24uYWN0aW9uc01hcFt0aGlzXTtcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGlvbilyZXR1cm47XG4gICAgICAgICAgICAgICAgb3duX2NyZWF0ZV9odG1sW3RoaXNdID0gJChcIjxzcGFuIHN0eWxlPSdjdXJzb3I6IHBvaW50ZXInPjwvc3Bhbj5cIik7XG4gICAgICAgICAgICAgICAgdmFyIGJveCA9ICQoXCI8aW5wdXQgdHlwZT0nY2hlY2tib3gnIG5hbWU9J293bl9jcmVhdGVfYm94Jz5cIikudmFsKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZGVzY3JpYmVcIiwgYWN0aW9uLmRlc2NyaWJlID8gKFwi5Y+q6IO9XCIgKyBhY3Rpb24uZGVzY3JpYmUgKyBcIuiHquW3seWIm+W7uueahOaVsOaNrlwiKSA6IFwiXCIpO1xuICAgICAgICAgICAgICAgIG93bl9jcmVhdGVfaHRtbFt0aGlzXVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKGJveClcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8c3Bhbj5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dChhY3Rpb24uZGVzY3JpYmUgPyBhY3Rpb24uZGVzY3JpYmUgOiBhY3Rpb24uYWN0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94LnByb3AoXCJjaGVja2VkXCIsICFib3gucHJvcChcImNoZWNrZWRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5kZW55X29wdGlvbl9maWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpYmU6IGFjdGlvbi5kZXNjcmliZSA/IGFjdGlvbi5kZXNjcmliZSA6IGFjdGlvbi5hY3Rpb25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB3aW5kb3cucGVybWlzc2lvbl9hY3Rpb25zID0gcGVybWlzc2lvbiA/IHBlcm1pc3Npb24ub3B0aW9uYWxGaWVsZHMgOiBbXTtcblxuICAgICAgICAgICAgaWYgKG1pbmkuZ2V0KFwiZGVueU9wdGlvbkFjdGlvblwiKSlcbiAgICAgICAgICAgICAgICBtaW5pLmdldChcImRlbnlPcHRpb25BY3Rpb25cIikuc2V0RGF0YSh3aW5kb3cuZGVueV9vcHRpb25fZmllbGRzKTtcbiAgICAgICAgICAgIGlmIChtaW5pLmdldChcImRlbnlBY3Rpb25zQm94XCIpKVxuICAgICAgICAgICAgICAgIG1pbmkuZ2V0KFwiZGVueUFjdGlvbnNCb3hcIikuc2V0RGF0YShwZXJtaXNzaW9uX2FjdGlvbnMpO1xuICAgICAgICAgICAgaWYgKG1pbmkuZ2V0KFwiZGVueUZpZWxkc0JveFwiKSlcbiAgICAgICAgICAgICAgICBtaW5pLmdldChcImRlbnlGaWVsZHNCb3hcIikuc2V0RGF0YSh3aW5kb3cuZGVueV9maWVsZHNfZGF0YSk7XG5cbiAgICAgICAgICAgIHZhciBncmlkRGF0YSA9IFtdO1xuXG4gICAgICAgICAgICAkKG1pbmkuY2xvbmUocm93LmRhdGFBY2Nlc3NlcykpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT0gXCJERU5ZX0ZJRUxEU1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnID0gbWluaS5kZWNvZGUodGhpcy5jb25maWcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5maWVsZHMgPSB0aGlzLmNvbmZpZy5maWVsZHMgKyBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlcm1pc3Npb25JZCA9IHJvdy5wZXJtaXNzaW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgIGdyaWREYXRhLnB1c2godGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT0gXCJPV05fQ1JFQVRFRFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvd25fY3JlYXRlX2h0bWxbdGhpcy5hY3Rpb25dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvd25fY3JlYXRlX2h0bWxbdGhpcy5hY3Rpb25dLmZpbmQoXCJpbnB1dFwiKS5wcm9wKFwiY2hlY2tlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJCgnLmFjdGlvbl9ib3gnKS5odG1sKFwiXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgYWN0aW9uIGluIG93bl9jcmVhdGVfaHRtbCkge1xuICAgICAgICAgICAgICAgICQoJy5hY3Rpb25fYm94JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYXBwZW5kKG93bl9jcmVhdGVfaHRtbFthY3Rpb25dLmNsb25lKCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWluaS5nZXQoXCJkZW55X2ZpZWxkc19ncmlkXCIpLnNldERhdGEoZ3JpZERhdGEpO1xuXG4gICAgICAgICAgICB3aW5kb3cub25EYXRhQWNjZXNzRWRpdEFmdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhbGxfY29uZmlnID0gW107XG4gICAgICAgICAgICAgICAgJChcIltuYW1lPW93bl9jcmVhdGVfYm94XTpjaGVja2VkXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBhbGxfY29uZmlnLnB1c2goe2Rlc2NyaWJlOiAkKHRoaXMpLmF0dHIoXCJkZXNjcmliZVwiKSwgYWN0aW9uOiAkKHRoaXMpLnZhbCgpLCB0eXBlOiBcIk9XTl9DUkVBVEVEXCJ9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgZGVueV9maWVsZHMgPSBtaW5pLmNsb25lKG1pbmkuZ2V0KFwiZGVueV9maWVsZHNfZ3JpZFwiKS5nZXREYXRhKCkpO1xuICAgICAgICAgICAgICAgICQoZGVueV9maWVsZHMpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBcIkRFTllfRklFTERTXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnID0gbWluaS5lbmNvZGUodGhpcy5jb25maWcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jb25maWcucHVzaCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGdyaWQudXBkYXRlUm93KHJvdywge2RhdGFBY2Nlc3NlczogYWxsX2NvbmZpZ30pO1xuICAgICAgICAgICAgICAgIG1pbmkuZ2V0KFwiZGF0YUFjY2Vzc1dpbmRvd1wiKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtaW5pLmdldChcImRhdGFBY2Nlc3NXaW5kb3dcIikuc2hvdygpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZ3JpZC5vbihcImNlbGxjb21taXRlZGl0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciByZWNvcmQgPSBlLnJlY29yZDtcbiAgICB9KTtcbn1cblxud2luZG93LnJlbmRlckJpbmRJbmZvQWN0aW9uID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaHRtbCA9IFtdO1xuICAgIHZhciByb3cgPSBlLnJlY29yZDtcbiAgICBodG1sLnB1c2goYm9vdC5jcmVhdGVBY3Rpb25CdXR0b24oXCLliKDpmaRcIiwgXCJpY29uLXJlbW92ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1pbmkuZ2V0KFwibWVudS1ncm91cC1ncmlkXCIpLnJlbW92ZU5vZGUocm93KTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGh0bWwuam9pbihcIlwiKTtcbn1cblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvbWVudS1ncm91cC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSA3Il0sInNvdXJjZVJvb3QiOiIifQ==')},2:function(module,exports){eval("// removed by extract-text-webpack-plugin//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9ucy9jb21tb24uY3NzPzQzMDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tbW9ucy9jb21tb24uY3NzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggMTAgMTEgMTIgMTMiXSwic291cmNlUm9vdCI6IiJ9")},5:function(module,exports){eval("// removed by extract-text-webpack-plugin//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWVudS1ncm91cC9pbmRleC5jc3M/NWQ0OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9tZW51LWdyb3VwL2luZGV4LmNzc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDciXSwic291cmNlUm9vdCI6IiJ9")}},[17]);